!function(){"use strict";function e(e,t){e.state("app.activityLogs",{url:"/logs",template:"<div ui-view></div>",abstract:!0,data:{auth:{allowAnonymous:!1,roles:["SuperAdmin"]},pageTitle:"Activity Logs"}}).state("app.activityLogs.list",{url:"",templateUrl:"App/dist/Views/ActivityLogs/list/list.html",controller:"activityLogsListController",data:{auth:{allowAnonymous:!1,roles:["SuperAdmin"]},pageTitle:"Activity Logs",breadcrumbs:["app.dashboard.home"]},resolve:{dateRangePicker:a}}).state("app.activityLogs.view",{url:"/{id}",templateUrl:"App/dist/Views/ActivityLogs/view/view.html",controller:"activityLogsViewController",data:{auth:{allowAnonymous:!1,roles:["SuperAdmin"]},pageTitle:"Activity Log Details",breadcrumbs:["app.dashboard.home","app.activityLogs.list"]}})}function t(){}function a(e){return e.load({serie:!0,files:["App/dist/js/moment.min.js","App/dist/js/daterangepicker.js","App/dist/js/angular-daterangepicker.js","App/dist/css/daterangepicker.css"]})}angular.module("app.activityLogs",["app.core","daterangepicker","ui.select","ngSanitize"]).config(e).run(t),e.$inject=["$stateProvider","$urlRouterProvider"],t.$inject=[],a.$inject=["$ocLazyLoad"]}(),function(){"use strict";function e(){}function t(e,t){e.state("app.account",{url:"/account",template:"<div ui-view></div>",abstract:!0}).state("app.account.login",{url:"/login",data:{auth:{allowAnonymous:!0},pageTitle:"Login"},templateUrl:"App/dist/Views/Account/login/login.html"}).state("app.account.logout",{url:"/logout",templateUrl:"App/dist/Views/Account/logout/logout.html",data:{auth:{allowAnonymous:!0},pageTitle:"Logout"}}).state("app.account.profile",{url:"/profile",templateUrl:"App/dist/Views/Users/view/view.html",controller:"usersViewController",data:{pageTitle:"Profile",breadcrumbs:["app.dashboard.home"]}}).state("app.account.update",{url:"/profile/update",templateUrl:"App/dist/Views/Users/update/update.html",controller:"usersUpdateController",data:{pageTitle:"Update Profile",breadcrumbs:["app.dashboard.home","app.account.profile"]},resolve:{data:a}})}function a(e){return e.load({serie:!0,files:["App/ColorAdmin/assets/plugins/bootstrap-datepicker/css/datepicker.css","App/ColorAdmin/assets/plugins/bootstrap-datepicker/css/datepicker3.css","App/ColorAdmin/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"]})}angular.module("app.account",["app.core"]).config(t).run(e),t.$inject=["$stateProvider","$urlRouterProvider"],a.$inject=["$ocLazyLoad"]}(),function(){"use strict";function e(e,a){a.otherwise(function(e,t){e.invoke(["$rootScope","$state","$localStorage","accountService",function(e,a,n,o){var r=t.path();if(console.log("Not Found (404): "+r),r&&"/"!==r)a.go("app.error.notfound",{path:r});else{console.log("Path is empty!");var s=e.User;s.hasLoggedIn()?(console.log("User is logged in!"),s.hasUserData()?(console.log("User data available!"),s.goToHome()):(console.log("User data not available!"),o.getLoggedInUserDetails().then(function(t){console.log("Got user data!"),s.setUserData(t),e.Navigation.Build(),s.goToHome()},function(e){return console.log("Error Getting Logged In User Details."),event.preventDefault(),s.logout(),a.go("app.error.app",{error:e})})),console.log("4")):(console.log("User is not logged in!"),a.go("app.account.login"))}}])}),e.state("app",{url:"/app",templateUrl:"App/dist/Views/AppLayout/Base/app.html",abstract:!0,resolve:{authUser:t}}).state("app.error",{url:"/error",template:"<div ui-view></div>",abstract:!0}).state("app.error.app",{url:"/app",templateUrl:"App/dist/Views/AppLayout/Error/error.app.html",params:{error:null},data:{auth:{allowAnonymous:!0},pageTitle:"Application Error",layout:{headerAndSidebar:!1,header:!1,sidebar:!1}}}).state("app.error.notfound",{url:"/notfound?{path}",templateUrl:"App/dist/Views/AppLayout/Error/error.404.html",params:{error:null},data:{auth:{allowAnonymous:!0},pageTitle:"Page Not Found!",layout:{headerAndSidebar:!1,header:!1,sidebar:!1}}}).state("app.error.unauth",{url:"/unauthorized",templateUrl:"App/dist/Views/AppLayout/Error/error.unauth.html",params:{error:null},data:{auth:{allowAnonymous:!0},pageTitle:"Not Authorized!",layout:{headerAndSidebar:!1,header:!1,sidebar:!1}}})}function t(e,t,a){var n=e.User;return n.hasNotLoggedIn()?t.resolve(n.getUserData()):n.hasUserData()?t.resolve(n.getUserData()):a.getLoggedInUserDetails().then(function(a){return n.setUserData(a),e.Navigation.Build(),t.resolve(n.getUserData())},function(e){return console.log("Error Getting Logged In User Details."),n.logout(),t.resolve(null)})}angular.module("app",["app.core","app.account","app.dashboard","app.users","app.activityLogs","app.notifications","app.messages","app.shifts","app.employees","app.reports"]).config(e),e.$inject=["$stateProvider","$urlRouterProvider"],t.$inject=["$rootScope","$q","accountService"]}(),function(){"use strict";function e(e,t){e.state("app.dashboard",{url:"/dashboard",template:"<div ui-view></div>",abstract:!0}).state("app.dashboard.home",{url:"/home",templateUrl:"App/dist/Views/Dashboard/Home/dashboard.html",data:{auth:{allowAnonymous:!1,roles:["SuperAdmin","Admin"]},pageTitle:"Dashboard",breadcrumbs:[]},resolve:{service:a,angularChartJs:r,morris:o}})}function t(){}function a(e){return e.load({serie:!0,files:["App/ColorAdmin/assets/plugins/jquery-jvectormap/jquery-jvectormap-1.2.2.css","App/ColorAdmin/assets/plugins/bootstrap-calendar/css/bootstrap_calendar.css","App/ColorAdmin/assets/plugins/gritter/css/jquery.gritter.css","App/ColorAdmin/assets/plugins/morris/morris.css","App/ColorAdmin/assets/plugins/morris/raphael.min.js","App/ColorAdmin/assets/plugins/morris/morris.js","App/ColorAdmin/assets/plugins/jquery-jvectormap/jquery-jvectormap-1.2.2.min.js","App/ColorAdmin/assets/plugins/jquery-jvectormap/jquery-jvectormap-world-merc-en.js","App/ColorAdmin/assets/plugins/bootstrap-calendar/js/bootstrap_calendar.min.js","App/ColorAdmin/assets/plugins/gritter/js/jquery.gritter.min.js"]})}function n(e){return e.load({serie:!0,name:"angles",files:["App/dist/js/Chart.min.js","App/dist/js/angles.js"]})}function o(e){return e.load({serie:!0,name:"ng-morris-js",files:["App/dist/css/morris.css","App/dist/js/raphael.min.js","App/dist/js/morris.min.js","App/dist/js/ng-morris-js.min.js"]})}function r(e){return e.load({serie:!0,name:"chart.js",files:["App/dist/js/Chart.min.js","App/dist/js/angular-chart.min.js"]})}angular.module("app.dashboard",["app.core"]).config(["$stateProvider","$urlRouterProvider",e]).run([t]),a.$inject=["$ocLazyLoad"],n.$inject=["$ocLazyLoad"],o.$inject=["$ocLazyLoad"],r.$inject=["$ocLazyLoad"]}(),function(){"use strict";function e(e,a,n,o){n.interceptors.push("interceptorService"),o.debugEnabled(!0),a.decorator("$log",["$delegate","logger",t])}function t(e,t){return t(e)}function a(){}angular.module("app.core",["ui.router","ui.bootstrap","oc.lazyLoad","ngStorage"]).config(e).run(a),e.$inject=["$stateProvider","$provide","$httpProvider","$logProvider"]}(),function(){"use strict";function e(e,t){e.state("app.employees.groups",{url:"/Employees/Groups",template:"<div ui-view></div>",abstract:!0,data:{auth:{allowAnonymous:!1,roles:["RecManager"]},pageTitle:"Employee Groups"}}).state("app.employees.groups.create",{url:"/new",templateUrl:"App/dist/Views/EmployeeGroups/create/create.html",controller:"employeeGroupsCreateController",data:{auth:{allowAnonymous:!1,roles:["RecManager"]},pageTitle:"Create",breadcrumbs:["app.dashboard.home","app.employees.groups.list"]},resolve:{}}).state("app.employees.groups.list",{url:"",templateUrl:"App/dist/Views/EmployeeGroups/list/list.html",controller:"employeeGroupsListController",data:{auth:{allowAnonymous:!1,roles:["RecManager"]},pageTitle:"Employee Groups",breadcrumbs:["app.dashboard.home"]},resolve:{}}).state("app.employees.groups.update",{url:"/{id}/update",templateUrl:"App/dist/Views/EmployeeGroups/update/update.html",controller:"employeeGroupsUpdateController",data:{auth:{allowAnonymous:!1,roles:["RecManager"]},pageTitle:"Update",breadcrumbs:["app.dashboard.home","app.employees.groups.list"]},resolve:{}})}function t(){}angular.module("app.employees.groups",["app.core","ui.bootstrap","ngAnimate","ngSanitize"]).config(["$stateProvider","$urlRouterProvider",e]).run([t]),t.$inject=[]}(),function(){"use strict";function e(e,t){e.state("app.notifications",{url:"/notifications",template:"<div ui-view></div>",abstract:!0,data:{auth:{allowAnonymous:!1,roles:[]},pageTitle:"Notifications"}}).state("app.notifications.create",{url:"/new",templateUrl:"App/dist/Views/Notifications/create/create.html",controller:"notificationsCreateController",data:{auth:{allowAnonymous:!1,roles:["SuperAdmin","Admin"]},pageTitle:"Create Notification",breadcrumbs:["app.dashboard.home","app.notifications.list"]},resolve:{data:a}}).state("app.notifications.list",{url:"",templateUrl:"App/dist/Views/Notifications/list/list.html",controller:"notificationsListController",data:{pageTitle:"Notifications",breadcrumbs:["app.dashboard.home"]},resolve:{}}).state("app.notifications.update",{url:"/{id}/update",templateUrl:"App/dist/Views/Notifications/update/update.html",controller:"notificationsUpdateController",data:{pageTitle:"Update Notification",breadcrumbs:["app.dashboard.home","app.notifications.list"]},resolve:{data:o}}).state("app.notifications.view",{url:"/{id}",templateUrl:"App/dist/Views/Notifications/view/view.html",controller:"notificationsViewController",data:{pageTitle:"View Notification",breadcrumbs:["app.dashboard.home","app.notifications.list"]},resolve:{data:r}})}function t(){}function a(e){return e.load({serie:!0,files:["App/ColorAdmin/assets/plugins/jquery-tag-it/css/jquery.tagit.css","App/ColorAdmin/assets/plugins/jquery-tag-it/js/tag-it.min.js"]})}function n(e){return e.load({serie:!0,files:["App/ColorAdmin/assets/plugins/DataTables/media/css/dataTables.bootstrap.min.css","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/css/buttons.bootstrap.min.css","App/ColorAdmin/assets/plugins/DataTables/extensions/Responsive/css/responsive.bootstrap.min.css","App/ColorAdmin/assets/plugins/DataTables/media/js/jquery.dataTables.js","App/ColorAdmin/assets/plugins/DataTables/media/js/dataTables.bootstrap.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/dataTables.buttons.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/buttons.bootstrap.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/buttons.flash.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/jszip.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/pdfmake.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/vfs_fonts.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/buttons.html5.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/buttons.print.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Responsive/js/dataTables.responsive.min.js"]})}function o(){return null}function r(){return null}function s(e){return e.listMine({searchCriteria:"",pageNo:1,pageSize:10,sortColumn:"Date",sortType:1})}angular.module("app.notifications",["app.core","ngSanitize"]).config(e).run(t),e.$inject=["$stateProvider","$urlRouterProvider"],t.$inject=[],a.$inject=["$ocLazyLoad"],n.$inject=["$ocLazyLoad"],o.$inject=[],r.$inject=[],s.$inject=["notificationsService"]}(),function(){"use strict";function e(e,t){e.state("app.employees",{url:"/employees",template:"<div ui-view></div>",abstract:!0,data:{auth:{allowAnonymous:!1,roles:["RecManager"]},pageTitle:"Employees"}}).state("app.employees.create",{url:"/new",templateUrl:"App/dist/Views/Users/create/create.html",controller:"usersCreateController",data:{auth:{allowAnonymous:!1,roles:["RecManager"]},pageTitle:"Create Employee",breadcrumbs:["app.dashboard.home","app.employees.list"]},resolve:{datepicker:n,select2:o}}).state("app.employees.list",{url:"",templateUrl:"App/dist/Views/Users/list/list.html",controller:"usersListController",data:{auth:{allowAnonymous:!1,roles:["RecManager"]},pageTitle:"Employees",breadcrumbs:["app.dashboard.home"]},resolve:{}}).state("app.employees.update",{url:"/{id}/update",templateUrl:"App/dist/Views/Users/update/update.html",controller:"usersUpdateController",data:{auth:{allowAnonymous:!1,roles:["RecManager"]},pageTitle:"Update Employee",breadcrumbs:["app.dashboard.home","app.employees.list"]},resolve:{datepicker:n,select2:o}}).state("app.employees.view",{url:"/{id}",templateUrl:"App/dist/Views/Users/view/view.html",controller:"usersViewController",data:{pageTitle:"Employee Details",breadcrumbs:["app.dashboard.home","app.employees.list"]},resolve:{data:a}})}function t(){}function a(e,t,a){return console.debug(t),a.get(t.id)}function n(e){return e.load({serie:!0,files:["App/ColorAdmin/assets/plugins/bootstrap-datepicker/css/datepicker.css","App/ColorAdmin/assets/plugins/bootstrap-datepicker/css/datepicker3.css","App/ColorAdmin/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"]})}function o(e){return e.load({serie:!0,files:["App/ColorAdmin/assets/plugins/select2/dist/css/select2.min.css","App/ColorAdmin/assets/plugins/bootstrap-select/bootstrap-select.min.js","App/ColorAdmin/assets/plugins/select2/dist/js/select2.min.js"]})}function r(e){return e.load({serie:!0,files:["App/ColorAdmin/assets/plugins/DataTables/media/css/dataTables.bootstrap.min.css","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/css/buttons.bootstrap.min.css","App/ColorAdmin/assets/plugins/DataTables/extensions/Responsive/css/responsive.bootstrap.min.css","App/ColorAdmin/assets/plugins/DataTables/media/js/jquery.dataTables.js","App/ColorAdmin/assets/plugins/DataTables/media/js/dataTables.bootstrap.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/dataTables.buttons.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/buttons.bootstrap.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/buttons.flash.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/jszip.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/pdfmake.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/vfs_fonts.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/buttons.html5.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/buttons.print.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Responsive/js/dataTables.responsive.min.js"]})}angular.module("app.employees",["app.core","app.employees.groups","ui.bootstrap","ngAnimate","ngSanitize"]).config(["$stateProvider","$urlRouterProvider",e]).run([t]),t.$inject=[],a.$inject=["$state","$stateParams","usersService"],n.$inject=["$ocLazyLoad"],o.$inject=["$ocLazyLoad"],r.$inject=["$ocLazyLoad"]}(),function(){"use strict";function e(e,t){e.state("app.messages",{url:"/messages",template:"<div ui-view></div>",abstract:!0,data:{pageTitle:"Messages"}}).state("app.messages.create",{url:"/new",templateUrl:"App/dist/Views/Messages/create/create.html",controller:"messagesCreateController",params:{inReplyToMessage:null},data:{pageTitle:"New Message",breadcrumbs:["app.dashboard.home","app.messages.inbox"]},resolve:{jQueryTagIt:o,ngTagsInput:r}}).state("app.messages.inbox",{url:"/inbox",template:"<div ui-view></div>",abstract:!0}).state("app.messages.inbox.list",{url:"",templateUrl:"App/dist/Views/Messages/list/list.html",controller:"messagesListController",data:{pageTitle:"Inbox",breadcrumbs:["app.dashboard.home"]}}).state("app.messages.inbox.view",{url:"/{id}",templateUrl:"App/dist/Views/Messages/view/view.html",controller:"messagesViewController",params:{isIncomingMessage:!0,isSentMessage:!1},data:{pageTitle:"Message",breadcrumbs:["app.dashboard.home","app.messages.inbox.list"]},resolve:{jQueryTagIt:o}}).state("app.messages.sent",{url:"/sent",template:"<div ui-view></div>",abstract:!0}).state("app.messages.sent.list",{url:"",templateUrl:"App/dist/Views/Messages/list/list.html",controller:"messagesListController",data:{pageTitle:"Sent Messages",breadcrumbs:["app.dashboard.home"]}}).state("app.messages.sent.view",{url:"/{id}",templateUrl:"App/dist/Views/Messages/view/view.html",controller:"messagesViewController",params:{isIncomingMessage:!1,isSentMessage:!0},data:{pageTitle:"Message",breadcrumbs:["app.dashboard.home","app.messages.sent.list"]},resolve:{jQueryTagIt:o}}).state("app.messages.update",{url:"/{id}/update",templateUrl:"App/dist/Views/Messages/update/update.html",controller:"messagesUpdateController",data:{pageTitle:"Update Message",breadcrumbs:["app.dashboard.home","app.messages.inbox"]}})}function t(){}function a(){return null}function n(e){return e.load({serie:!0,files:["App/ColorAdmin/assets/plugins/DataTables/media/css/dataTables.bootstrap.min.css","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/css/buttons.bootstrap.min.css","App/ColorAdmin/assets/plugins/DataTables/extensions/Responsive/css/responsive.bootstrap.min.css","App/ColorAdmin/assets/plugins/DataTables/media/js/jquery.dataTables.js","App/ColorAdmin/assets/plugins/DataTables/media/js/dataTables.bootstrap.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/dataTables.buttons.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/buttons.bootstrap.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/buttons.flash.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/jszip.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/pdfmake.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/vfs_fonts.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/buttons.html5.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/buttons.print.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Responsive/js/dataTables.responsive.min.js"]})}function o(e){return e.load({serie:!0,files:["App/ColorAdmin/assets/plugins/jquery-tag-it/css/jquery.tagit.css","App/ColorAdmin/assets/plugins/jquery-tag-it/js/tag-it.min.js"]})}function r(e){return e.load({serie:!0,files:["App/dist/js/ng-tags-input.min.js","App/dist/css/ng-tags-input.min.css"]})}angular.module("app.messages",["app.core","ngSanitize","ngTagsInput","datatables"]).config(e).run(t),e.$inject=["$stateProvider","$urlRouterProvider"],t.$inject=[],a.$inject=[],n.$inject=["$ocLazyLoad"],o.$inject=["$ocLazyLoad"],r.$inject=["$ocLazyLoad"]}(),function(){"use strict";function e(e,t){e.state("app.reports",{url:"/Reports",template:"<div ui-view></div>",abstract:!0,data:{auth:{allowAnonymous:!1,roles:["SuperAdmin","Admin"]},pageTitle:"Reports"}}).state("app.reports.attendance",{url:"/Attendance",templateUrl:"App/dist/Views/Reports/Attendance/report.html",controller:"attendanceReportController",data:{auth:{allowAnonymous:!1,roles:["SuperAdmin","Admin"]},pageTitle:"Detailed Attendance Report",breadcrumbs:["app.dashboard.home"]},resolve:{dateRangePicker:a}}).state("app.reports.attendanceSummary",{url:"/Attendance/Summary",templateUrl:"App/dist/Views/Reports/AttendanceSummary/report.html",controller:"attendanceSummaryReportController",data:{auth:{allowAnonymous:!1,roles:["SuperAdmin","Admin"]},pageTitle:"Attendance Summary Report",breadcrumbs:["app.dashboard.home"]},resolve:{dateRangePicker:a}})}function t(){}function a(e){return e.load({serie:!0,files:["App/dist/js/moment.min.js","App/dist/js/daterangepicker.js","App/dist/js/angular-daterangepicker.js","App/dist/css/daterangepicker.css"]})}angular.module("app.reports",["app.core","daterangepicker","ui.select","ngSanitize"]).config(e).run(t),e.$inject=["$stateProvider","$urlRouterProvider"],t.$inject=[],a.$inject=["$ocLazyLoad"]}(),function(){"use strict";function e(e,t){e.state("app.shifts",{url:"/shifts",template:"<div ui-view></div>",abstract:!0,data:{auth:{allowAnonymous:!1,roles:[]},pageTitle:"Shifts"}}).state("app.shifts.create",{url:"/new",templateUrl:"App/dist/Views/Shifts/create/create.html",controller:"shiftsCreateController",params:{date:null,employeeId:null},data:{pageTitle:"Create Shift",breadcrumbs:["app.shifts.list"]},resolve:{dateRangePicker:a,datePicker:n,select2:o}}).state("app.shifts.list",{url:"",templateUrl:"App/dist/Views/Shifts/list/list.html",controller:"shiftsListController",data:{auth:{allowAnonymous:!1,roles:[]},pageTitle:"Shifts",breadcrumbs:["app.dashboard.home"]},resolve:{dateRangePicker:a,switchery:r,jqueryContextMenu:i}}).state("app.shifts.view",{url:"/{id}",templateUrl:"App/dist/Views/Shifts/view/view.html",controller:"shiftsViewController",data:{pageTitle:"Shift Details",breadcrumbs:["app.dashboard.home","app.shifts.list"]}}).state("app.shifts.update",{url:"/{id}/Update",templateUrl:"App/dist/Views/Shifts/update/update.html",controller:"shiftsUpdateController",data:{pageTitle:"Update Shift",breadcrumbs:["app.dashboard.home","app.shifts.list"]}})}function t(){}function a(e){return e.load({serie:!0,files:["App/dist/js/moment.min.js","App/dist/js/daterangepicker.js","App/dist/js/angular-daterangepicker.js","App/dist/css/daterangepicker.css"]})}function n(e){return e.load({serie:!0,files:["App/ColorAdmin/assets/plugins/bootstrap-datepicker/css/datepicker.css","App/ColorAdmin/assets/plugins/bootstrap-datepicker/css/datepicker3.css","App/ColorAdmin/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"]})}function o(e){return e.load({serie:!0,files:["App/ColorAdmin/assets/plugins/select2/dist/css/select2.min.css","App/ColorAdmin/assets/plugins/bootstrap-select/bootstrap-select.min.js","App/ColorAdmin/assets/plugins/select2/dist/js/select2.min.js"]})}function r(e){return e.load({serie:!0,files:["App/ColorAdmin/assets/plugins/switchery/switchery.min.css","App/ColorAdmin/assets/plugins/switchery/switchery.min.js"]})}function s(e){return e.load({serie:!0,files:["App/dist/js/BootstrapMenu.min.js"]})}function i(e){return e.load({serie:!0,files:["App/dist/css/jquery.contextMenu.min.css","App/dist/js/jquery.contextMenu.min.js","App/dist/js/jquery.ui.position.min.js"]})}angular.module("app.shifts",["app.core","ngSanitize","ui.bootstrap","ui.calendar","daterangepicker","ui.select","uiSwitch"]).config(e).run(t),e.$inject=["$stateProvider","$urlRouterProvider"],t.$inject=[],a.$inject=["$ocLazyLoad"],n.$inject=["$ocLazyLoad"],o.$inject=["$ocLazyLoad"],r.$inject=["$ocLazyLoad"],s.$inject=["$ocLazyLoad"],i.$inject=["$ocLazyLoad"]}(),function(){"use strict";function e(e,t){e.state("app.users",{url:"/users",template:"<div ui-view></div>",abstract:!0,data:{auth:{allowAnonymous:!1,roles:["SuperAdmin","Admin"]},pageTitle:"Users"}}).state("app.users.create",{url:"/new",templateUrl:"App/dist/Views/Users/create/create.html",controller:"usersCreateController",data:{auth:{allowAnonymous:!1,roles:["SuperAdmin","Admin"]},pageTitle:"Create User",breadcrumbs:["app.dashboard.home","app.users.list"]},resolve:{datepicker:a,select2:n}}).state("app.users.list",{url:"",templateUrl:"App/dist/Views/Users/list/list.html",controller:"usersListController",data:{auth:{allowAnonymous:!1,roles:["SuperAdmin","Admin"]},pageTitle:"Users",breadcrumbs:["app.dashboard.home"]},resolve:{}}).state("app.users.update",{url:"/{id}/update",templateUrl:"App/dist/Views/Users/update/update.html",controller:"usersUpdateController",data:{auth:{allowAnonymous:!1,roles:["SuperAdmin","Admin"]},pageTitle:"Update User",breadcrumbs:["app.dashboard.home","app.users.list"]},resolve:{datepicker:a,select2:n}}).state("app.users.view",{url:"/{id}",templateUrl:"App/dist/Views/Users/view/view.html",controller:"usersViewController",data:{auth:{allowAnonymous:!1,roles:["SuperAdmin","Admin"]},pageTitle:"User Details",breadcrumbs:["app.dashboard.home","app.users.list"]},resolve:{}})}function t(){}function a(e){return e.load({serie:!0,files:["App/ColorAdmin/assets/plugins/bootstrap-datepicker/css/datepicker.css","App/ColorAdmin/assets/plugins/bootstrap-datepicker/css/datepicker3.css","App/ColorAdmin/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"]})}function n(e){return e.load({serie:!0,files:["App/ColorAdmin/assets/plugins/select2/dist/css/select2.min.css","App/ColorAdmin/assets/plugins/bootstrap-select/bootstrap-select.min.js","App/ColorAdmin/assets/plugins/select2/dist/js/select2.min.js"]})}function o(e){return e.load({serie:!0,files:["App/ColorAdmin/assets/plugins/DataTables/media/css/dataTables.bootstrap.min.css","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/css/buttons.bootstrap.min.css","App/ColorAdmin/assets/plugins/DataTables/extensions/Responsive/css/responsive.bootstrap.min.css","App/ColorAdmin/assets/plugins/DataTables/media/js/jquery.dataTables.js","App/ColorAdmin/assets/plugins/DataTables/media/js/dataTables.bootstrap.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/dataTables.buttons.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/buttons.bootstrap.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/buttons.flash.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/jszip.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/pdfmake.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/vfs_fonts.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/buttons.html5.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Buttons/js/buttons.print.min.js","App/ColorAdmin/assets/plugins/DataTables/extensions/Responsive/js/dataTables.responsive.min.js"]})}angular.module("app.users",["app.core","ui.bootstrap","ngAnimate","ngSanitize"]).config(["$stateProvider","$urlRouterProvider",e]).run([t]),t.$inject=[],a.$inject=["$ocLazyLoad"],n.$inject=["$ocLazyLoad"],o.$inject=["$ocLazyLoad"]}(),function(){"use strict";function e(e,t,a,n,o,r,s){function i(){handleSlimScroll()}function l(){}function c(e,a,n,o){Pace.stop(),console.log(a.to),console.log(a.toParams),console.log(a.options),t.go("app.error.notfound")}function d(e,t,a,n,o,r){Pace.stop(),console.log("$stateChangeError",r)}function u(a,n,o,s,i){if(g(),App.scrollTop(),$(".pace .pace-progress").addClass("hide"),$(".pace").removeClass("pace-inactive"),s.data||(s.data={}),n.data||(n.data={}),n.data.auth||(n.data.auth={allowAnonymous:!1,roles:[]}),!n.data.auth.allowAnonymous||n.data.auth.roles){var l=e.User;if(l.hasNotLoggedIn())return m(a);var c=n.data.auth.roles&&n.data.auth.roles.length>0;if(l.hasUserData()){if(c&&!l.hasAnyRole(n.data.auth.roles))return p(a)}else r.getLoggedInUserDetails().then(function(t){if(l.setUserData(t),e.Navigation.Build(),c&&!l.hasAnyRole(n.data.auth.roles))return p(a)},function(e){return console.log("Error Getting Logged In User Details."),a.preventDefault(),t.go("app.error.app",{error:e})})}}function p(e){throw e.preventDefault(),new AuthError}function m(a){e.notifications.notify("You must be logged in to visit this page. Please log in."),a.preventDefault(),t.go("app.account.login")}function f(a,n,o,r,s){Pace.restart(),App.initPageLoad(),App.initSidebarSelection(),App.initSidebarMobileSelection(),setTimeout(function(){App.initLocalStorage(),App.initComponent()},0),e.Navigation.Build(),e.notifications.clearMessages(),e.notifications.clearErrors();var i=e.User;e.breadcrumbs.clear(),n.data.breadcrumbs&&(n.data.breadcrumbs.forEach(function(a){var n=t.get(a),o="app.dashboard.home"===a?i.getHomeHref():t.href(a);e.breadcrumbs.add({text:n.data.pageTitle,href:o})}),e.breadcrumbs.add({text:n.data.pageTitle,href:""})),!i.hasLoggedIn()||n.data.auth&&!1!==n.data.auth.allowAnonymous||e.refreshHeaderNotifications(),n.data.layout&&(e.setting.layout.pageWithoutHeader=!1===n.data.layout.header,e.setting.layout.pageWithoutSidebar=!1===n.data.layout.sidebar),e.currentPage={title:""},n.data&&(e.currentPage.title=n.data.pageTitle||"Page")}function g(){e.setting.layout.pageSidebarMinified=!1,e.setting.layout.pageFixedFooter=!1,e.setting.layout.pageRightSidebar=!1,e.setting.layout.pageTwoSidebar=!1,e.setting.layout.pageTopMenu=!1,e.setting.layout.pageBoxedLayout=!1,e.setting.layout.pageWithoutSidebar=!1,e.setting.layout.pageContentFullHeight=!1,e.setting.layout.pageContentFullWidth=!1,e.setting.layout.paceTop=!1,e.setting.layout.pageLanguageBar=!1,e.setting.layout.pageSidebarTransparent=!1,e.setting.layout.pageWideSidebar=!1,e.setting.layout.pageLightSidebar=!1,e.setting.layout.pageFooter=!1,e.setting.layout.pageMegaMenu=!1,e.setting.layout.pageWithoutHeader=!1,e.setting.layout.pageBgWhite=!1,e.setting.layout.pageContentInverseMode=!1}e.$on("$includeContentLoaded",i),e.$on("$viewContentLoaded",l),e.$on("$stateChangeStart",u),e.$on("$stateChangeSuccess",f),e.$on("$stateNotFound",c),e.$on("$stateChangeError",d),d.$inject=["event","toState","toParams","fromState","fromParams"],u.$inject=["event","toState","toParams","fromState","fromParams"],f.$inject=["event","toState","toParams","fromState","fromParams"]}angular.module("app").run(e),e.$inject=["$rootScope","$state","$ocLazyLoad","setting","$localStorage","accountService","notificationsService"]}(),function(){"use strict";function e(e,t,a,n){function o(e){return n.Post(c,e)}function r(e){return n.Get(c,e)}function s(e,t){var a=c+"/"+e;return n.Put(a,t)}function i(e){var t=c+"/"+e;return n.Get(t)}function l(e){var t=c+"/"+e;return n.Delete(t)}var c="/ActivityLogs";return{create:o,list:r,update:s,get:i,del:l}}angular.module("app.activityLogs").factory("activityLogsService",e),e.$inject=["$http","$q","$log","AppHttpService"]}(),function(){"use strict";function e(e,t,a,n){function o(e){return n.Get("/users/me")}function r(e){var t={client_id:"web",grant_type:"password",response_type:"token",username:e.username,password:e.password};return n.Post("/Token",t,"application/x-www-form-urlencoded",!0)}return{authenticate:r,getLoggedInUserDetails:o}}angular.module("app.account").factory("accountService",e),e.$inject=["$http","$q","$log","AppHttpService"]}(),function(){"use strict";function e(e,t,a,n){function o(){return n.Get(r+"/Dashboard")}var r="/Shifts";return{getDashboardData:o}}angular.module("app.dashboard").factory("dashboardService",e),e.$inject=["$http","$q","$log","AppHttpService"]}(),function(){"use strict";function e(e){return{layout:{pageSidebarMinified:!1,pageFixedFooter:!1,pageRightSidebar:!1,pageTwoSidebar:!1,pageTopMenu:!1,pageBoxedLayout:!1,pageWithoutSidebar:!1,pageContentFullHeight:!1,pageContentFullWidth:!1,pageContentInverseMode:!1,pageSidebarTransparent:!1,pageWithFooter:!1,pageLightSidebar:!1,pageMegaMenu:!1,pageBgWhite:!1,pageWithoutHeader:!1,paceTop:!1,appName:"Shift Manager"},api:{baseUrl:"/api"}}}angular.module("app.core").factory("setting",e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e){}angular.module("app.core").run(e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e,t,a,n){function o(e){return n.Post(u,e)}function r(e){return n.Get(u,e)}function s(e,t){var a=u+"/"+e;return n.Put(a,t)}function i(e){var t=u+"/"+e;return n.Get(t)}function l(e){var t=u+"/"+e;return n.Delete(t)}function c(e){var t=u+"/"+e+"/activate";return n.Put(t)}function d(e){var t=u+"/"+e+"/deactivate";return n.Put(t)}var u="/EmployeeGroups";return{create:o,list:r,update:s,get:i,del:l,activate:c,deactivate:d}}angular.module("app.employees").factory("employeeGroupsService",e),e.$inject=["$http","$q","$log","AppHttpService"]}(),function(){"use strict";function e(e,t,a,n){function o(e){return n.Post(f,e)}function r(e){return n.Get(f,e)}function s(e){var t=f+"/Mine";return n.Get(t,e)}function i(){var e=f+"/Mine/New";return n.Get(e)}function l(e,t){var a=f+"/"+e;return n.Put(a,t)}function c(e){var t=f+"/"+e;return n.Get(t)}function d(e){var t=f+"/"+e;return n.Delete(t)}function u(e){var t=f+"/"+e+"/read";return n.Put(t)}function p(e){var t=f+"/"+e+"/unread";return n.Put(t)}function m(){var e=f+"/Recipients";return n.Get(e)}var f="/Notifications";return{create:o,list:r,listMine:s,listMineNew:i,update:l,get:c,del:d,markAsUnread:p,markAsRead:u,getRecipients:m}}angular.module("app.notifications").factory("notificationsService",e),
e.$inject=["$http","$q","$log","AppHttpService"]}(),function(){"use strict";function e(e,t,a,n){function o(e){return n.Post(p,e)}function r(e){return n.Get(p,e)}function s(e){return n.Get(p+"/All",e)}function i(e,t){var a=p+"/"+e;return n.Put(a,t)}function l(e){var t=p+"/"+e;return n.Get(t)}function c(e){var t=p+"/"+e;return n.Delete(t)}function d(e){var t=p+"/"+e+"/activate";return n.Put(t)}function u(e){var t=p+"/"+e+"/deactivate";return n.Put(t)}var p="/Employees";return{create:o,list:r,listAll:s,update:i,get:l,del:c,activate:d,deactivate:u}}angular.module("app.employees").factory("employeesService",e),e.$inject=["$http","$q","$log","AppHttpService"]}(),function(){"use strict";function e(e,t,a,n){function o(e){return n.Post(m,e)}function r(e){return n.Get(m,e)}function s(e){var t=m+"/sent";return n.Get(t,e)}function i(e,t){var a=m+"/"+e;return n.Put(a,t)}function l(e){var t=m+"/"+e;return n.Get(t)}function c(e){var t=m+"/"+e;return n.Delete(t)}function d(e){var t=m+"/"+e+"/read";return n.Put(t)}function u(e){var t=m+"/"+e+"/unread";return n.Put(t)}function p(){var e=m+"/Recipients";return n.Get(e)}var m="/Messages";return{create:o,list:r,listSent:s,update:i,get:l,del:c,markAsUnread:u,markAsRead:d,getRecipients:p}}angular.module("app.messages").factory("messagesService",e),e.$inject=["$http","$q","$log","AppHttpService"]}(),function(){"use strict";function e(e,t,a,n){function o(e){return n.Get(s+"/Reports/Attendance",e)}function r(e){return n.Get(s+"/Reports/Attendance/Summary",e)}var s="/Shifts";return{getAttendanceData:o,getAttendanceSummaryData:r}}angular.module("app.reports").factory("reportsService",e),e.$inject=["$http","$q","$log","AppHttpService"]}(),function(){"use strict";function e(e,t,a,n){function o(e){return n.Post(f,e)}function r(e){return n.Get(f,e)}function s(e,t){var a=f+"/"+e;return n.Put(a,t)}function i(e,t){var a=f+"/"+e+"/Assign";return n.Put(a,t)}function l(e){var t=f+"/"+e+"/Take";return n.Put(t)}function c(e){var t=f+"/"+e+"/Leave";return n.Put(t)}function d(e){var t=f+"/"+e+"/clockin";return n.Put(t)}function u(e){var t=f+"/"+e+"/clockout";return n.Put(t)}function p(e){var t=f+"/"+e;return n.Get(t)}function m(e){var t=f+"/"+e;return n.Delete(t)}var f="/Shifts";return{create:o,list:r,update:s,assign:i,take:l,leave:c,clockIn:d,clockOut:u,get:p,del:m}}angular.module("app.shifts").factory("shiftsService",e),e.$inject=["$http","$q","$log","AppHttpService"]}(),function(){"use strict";function e(e,t,a,n){function o(e){return n.Post(f,e)}function r(e){return n.Get(f,e)}function s(e){return n.Get(f+"/All",e)}function i(e,t){var a=f+"/"+e;return n.Put(a,t)}function l(e){var t=f+"/"+e;return n.Get(t)}function c(e){var t=f+"/"+e;return n.Delete(t)}function d(e){var t=f+"/"+e+"/activate";return n.Put(t)}function u(e){var t=f+"/"+e+"/deactivate";return n.Put(t)}function p(){return n.Get(g)}function m(){var e=f+"/Notifications";return n.Get(e)}var f="/Users",g="/Roles";return{create:o,list:r,listAll:s,update:i,get:l,del:c,activate:d,deactivate:u,getRoles:p,listNotifications:m}}angular.module("app.users").factory("usersService",e),e.$inject=["$http","$q","$log","AppHttpService"]}(),function(){"use strict";function e(e,t,a,n,o,r){function s(){i()}function i(){f.datePicker.date&&(f.datePicker.date.startDate&&(f.query.startDate=f.datePicker.date.startDate.format("YYYY-MM-DD")),f.datePicker.date.endDate&&(f.query.endDate=f.datePicker.date.endDate.format("YYYY-MM-DD"))),o.list(f.query).then(function(e){f.model=e},function(e){})}function l(){r.list(f.usersQuery).then(function(e){f.users=e.items,console.log("Users",f.users)},function(e){})}function c(e){console.log("UI-Select Criteria:",e),f.usersQuery.searchCriteria=e,l()}function d(e){o.del(e).then(function(e){i()},function(e){})}function u(){f.query.pageNo=1,i()}function p(){i()}function m(){f.datePicker.date={startDate:moment(),endDate:moment()},f.query={userId:null,startDate:null,endDate:null,searchCriteria:"",pageNo:1,pageSize:10,sortColumn:"Name",sortType:1}}var f=e;f.init=s,f.list=i,f.reset=m,f.del=d,f.listUsers=l,f.getUsers=c,f.users=[],f.model={},f.pageSizes=[10,25,50,100,200],f.query={userId:null,startDate:null,endDate:null,searchCriteria:"",pageNo:1,pageSize:10,sortColumn:"Name",sortType:1},f.usersQuery={searchCriteria:"",pageNo:1,pageSize:10,sortColumn:"Name",sortType:1},f.pageChanged=p,f.pageSizeChanged=u,f.dtOptions={paginationType:"full_numbers",paging:!1,ordering:!0,info:!1,searching:!1},f.datePicker={date:{startDate:moment(),endDate:moment()},options:{showDropdowns:!0,showWeekNumbers:!0,alwaysShowCalendars:!1,linkedCalendars:!1,locale:{format:"DD/MM/YYYY",cancelLabel:"Clear"},ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},eventHandlers:{"show.daterangepicker":function(e,t){console.log("show.daterangepicker")},"hide.daterangepicker":function(e,t){console.log("hide.daterangepicker")},"showCalendar.daterangepicker":function(e,t){console.log("showCalendar.daterangepicker")},"hideCalendar.daterangepicker":function(e,t){console.log("hideCalendar.daterangepicker")},"apply.daterangepicker":function(e,t){console.log("apply.daterangepicker")},"cancel.daterangepicker":function(e,t){console.log("cancel.daterangepicker"),f.datePicker={startDate:null,endDate:null}}}}},f.init()}angular.module("app.activityLogs").controller("activityLogsListController",e),e.$inject=["$scope","$rootScope","$state","$localStorage","activityLogsService","usersService"]}(),function(){"use strict";function e(e,t,a,n,o,r){function s(){c.id=n.id,c.get(c.id)}function i(e){r.get(e).then(function(e){c.model=e},function(e){})}function l(){r.del(c.id).then(function(e){a.go("app.activityLogs.list")},function(e){})}var c=e;c.model={},c.init=s,c.get=i,c.del=l,c.init()}angular.module("app.activityLogs").controller("activityLogsViewController",e),e.$inject=["$scope","$rootScope","$state","$stateParams","$localStorage","activityLogsService"]}(),function(){"use strict";function e(e,t,a,n,o){function r(){t.User.logout()}var s=e;s.model={},s.init=r,s.init(),s.submitForm=function(e){e.$valid&&(console.debug(s.model),o.authenticate(s.model).then(function(e){console.debug(e);var n=t.User;n.login(e),o.getLoggedInUserDetails().then(function(e){n.setUserData(e),t.Navigation.Build(),n.goToHome()},function(e){return console.log("Error Getting Logged In User Details."),a.go("app.error.app",{error:e})})},function(e){}))}}angular.module("app.account").controller("loginController",e),e.$inject=["$scope","$rootScope","$state","$localStorage","accountService"]}(),function(){"use strict"}(),function(){"use strict";function e(e,t,a,n,o){function r(){t.User.logout(),t.Navigation.Build()}var s=e;s.init=r,s.init()}angular.module("app.account").controller("logoutController",e),e.$inject=["$scope","$rootScope","$state","$localStorage","accountService"]}(),function(){"use strict";function e(e,t,a,n,o){function r(){if(i.isNotFoundError="app.error.notfound"===a.$current.name,i.isAuthError="app.error.unauth"===a.$current.name,i.error=n.error,i.isNotFoundError&&(o.replace(),i.path=n.path,!i.path)){t.User.goToHome()}i.error&&("string"==typeof i.error?i.errorMessage=i.error:i.error instanceof Error?(i.errorName=i.error.name,i.errorMessage=i.error.message):i.error.message?i.errorMessage=i.error.message:i.error.exceptionType?i.errorMessage=i.error.exceptionType:i.error.exceptionMessage&&(i.errorMessage=i.error.exceptionMessage)),i.errorMessage&&t.notifications.notify(i.errorMessage,i.errorName)}function s(){var e="#";return t.User.hasAnyRole("SuperAdmin, Admin")?e=a.href("app.dashboard.home"):t.User.hasAnyRole("RecManager")?e=a.href("app.employees.list"):t.User.hasAnyRole("HRManager, Employee")&&(e=a.href("app.shifts.list")),console.debug(e),e}var i=e;i.init=r,i.getDashboardUrl=s,i.init()}angular.module("app.core").controller("errorController",e),e.$inject=["$scope","$rootScope","$state","$stateParams","$location"]}(),function(){"use strict";function e(e,t,a){}angular.module("app").controller("headerController",e);e.$inject=["$scope","$rootScope","$state"]}(),function(){"use strict";function e(e,t,a,n,o,r,s){t.$state=a,t.setting=o}angular.module("app").controller("appController",e);e.$inject=["$scope","$rootScope","$state","$localStorage","setting","accountService","_"]}(),function(){"use strict"}();var handleSlimScroll=function(){$("[data-scrollbar=true]").each(function(){generateSlimScroll($(this))})},generateSlimScroll=function(e){if(!$(e).attr("data-init")){var t=$(e).attr("data-height");t=t||$(e).height();var a={height:t,alwaysVisible:!0};/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?($(e).css("height",t),$(e).css("overflow-x","scroll")):$(e).slimScroll(a),$(e).attr("data-init",!0)}},handleSidebarMenu=function(){$(".sidebar .nav > .has-sub > a").click(function(){var e=$(this).next(".sub-menu");0===$(".page-sidebar-minified").length&&($(".sidebar .nav > li.has-sub > .sub-menu").not(e).slideUp(250,function(){$(this).closest("li").removeClass("expand")}),$(e).slideToggle(250,function(){var e=$(this).closest("li");$(e).hasClass("expand")?$(e).removeClass("expand"):$(e).addClass("expand")}))}),$(".sidebar .nav > .has-sub .sub-menu li.has-sub > a").click(function(){if(0===$(".page-sidebar-minified").length){var e=$(this).next(".sub-menu");$(e).slideToggle(250)}})},handleMobileSidebarToggle=function(){var e=!1;$(".sidebar").bind("click touchstart",function(t){0!==$(t.target).closest(".sidebar").length?e=!0:(e=!1,t.stopPropagation())}),$(document).bind("click touchstart",function(t){0===$(t.target).closest(".sidebar").length&&(e=!1),t.isPropagationStopped()||!0===e||($("#page-container").hasClass("page-sidebar-toggled")&&(e=!0,$("#page-container").removeClass("page-sidebar-toggled")),$(window).width()<=767&&$("#page-container").hasClass("page-right-sidebar-toggled")&&(e=!0,$("#page-container").removeClass("page-right-sidebar-toggled")))}),$("[data-click=right-sidebar-toggled]").click(function(t){t.stopPropagation();var a="page-right-sidebar-collapsed";a=$(window).width()<979?"page-right-sidebar-toggled":a,$("#page-container").hasClass(a)?$("#page-container").removeClass(a):!0!==e?$("#page-container").addClass(a):e=!1,$(window).width()<480&&$("#page-container").removeClass("page-sidebar-toggled"),$(window).trigger("resize")}),$("[data-click=sidebar-toggled]").click(function(t){t.stopPropagation();$("#page-container").hasClass("page-sidebar-toggled")?$("#page-container").removeClass("page-sidebar-toggled"):!0!==e?$("#page-container").addClass("page-sidebar-toggled"):e=!1,$(window).width()<480&&$("#page-container").removeClass("page-right-sidebar-toggled")})},handleSidebarMinify=function(){$("[data-click=sidebar-minify]").click(function(e){e.preventDefault();$('#sidebar [data-scrollbar="true"]').css("margin-top","0"),$('#sidebar [data-scrollbar="true"]').removeAttr("data-init"),$("#sidebar [data-scrollbar=true]").stop(),$("#page-container").hasClass("page-sidebar-minified")?($("#page-container").removeClass("page-sidebar-minified"),$("#page-container").hasClass("page-sidebar-fixed")?(0!==$("#sidebar .slimScrollDiv").length&&($('#sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('#sidebar [data-scrollbar="true"]').removeAttr("style")),generateSlimScroll($('#sidebar [data-scrollbar="true"]')),$("#sidebar [data-scrollbar=true]").trigger("mouseover")):/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(0!==$("#sidebar .slimScrollDiv").length&&($('#sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('#sidebar [data-scrollbar="true"]').removeAttr("style")),generateSlimScroll($('#sidebar [data-scrollbar="true"]')))):($("#page-container").addClass("page-sidebar-minified"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?($('#sidebar [data-scrollbar="true"]').css("margin-top","0"),$('#sidebar [data-scrollbar="true"]').css("overflow","visible")):($("#page-container").hasClass("page-sidebar-fixed")&&($('#sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('#sidebar [data-scrollbar="true"]').removeAttr("style")),$("#sidebar [data-scrollbar=true]").trigger("mouseover"))),$(window).trigger("resize")})},handlePageContentView=function(){$.when($("#page-loader").addClass("hide")).done(function(){$("#page-container").addClass("in")})},panelActionRunning=!1,handlePanelAction=function(){if(panelActionRunning)return!1;panelActionRunning=!0,$(document).on("hover","[data-click=panel-remove]",function(e){$(this).tooltip({title:"Remove",placement:"bottom",trigger:"hover",container:"body"}),$(this).tooltip("show")}),$(document).on("click","[data-click=panel-remove]",function(e){e.preventDefault(),$(this).tooltip("destroy"),$(this).closest(".panel").remove()}),$(document).on("hover","[data-click=panel-collapse]",function(e){$(this).tooltip({title:"Collapse / Expand",placement:"bottom",trigger:"hover",container:"body"}),$(this).tooltip("show")}),$(document).on("click","[data-click=panel-collapse]",function(e){e.preventDefault(),$(this).closest(".panel").find(".panel-body").slideToggle()}),$(document).on("hover","[data-click=panel-reload]",function(e){$(this).tooltip({title:"Reload",placement:"bottom",trigger:"hover",container:"body"}),$(this).tooltip("show")}),$(document).on("click","[data-click=panel-reload]",function(e){e.preventDefault();var t=$(this).closest(".panel");if(!$(t).hasClass("panel-loading")){var a=$(t).find(".panel-body");$(t).addClass("panel-loading"),$(a).prepend('<div class="panel-loader"><span class="spinner-small"></span></div>'),setTimeout(function(){$(t).removeClass("panel-loading"),$(t).find(".panel-loader").remove()},2e3)}}),$(document).on("hover","[data-click=panel-expand]",function(e){$(this).tooltip({title:"Expand / Compress",placement:"bottom",trigger:"hover",container:"body"}),$(this).tooltip("show")}),$(document).on("click","[data-click=panel-expand]",function(e){e.preventDefault();var t=$(this).closest(".panel"),a=$(t).find(".panel-body"),n=40;if(0!==$(a).length){var o=$(t).offset().top;n=$(a).offset().top-o}if($("body").hasClass("panel-expand")&&$(t).hasClass("panel-expand"))$("body, .panel").removeClass("panel-expand"),$(".panel").removeAttr("style"),$(a).removeAttr("style");else if($("body").addClass("panel-expand"),$(this).closest(".panel").addClass("panel-expand"),0!==$(a).length&&40!==n){var r=40;$(t).find(" > *").each(function(){var e=$(this).attr("class");"panel-heading"!==e&&"panel-body"!==e&&(r+=$(this).height()+30)}),40!==r&&$(a).css("top",r+"px")}$(window).trigger("resize")})},handleDraggablePanel=function(){var e=$(".panel").parent("[class*=col]");$(e).sortable({handle:".panel-heading",connectWith:".row > [class*=col]",stop:function(e,t){t.item.find(".panel-title").append('<i class="fa fa-refresh fa-spin m-l-5" data-id="title-spinner"></i>'),handleSavePanelPosition(t.item)}})},handelTooltipPopoverActivation=function(){$("[data-toggle=tooltip]").tooltip(),$("[data-toggle=popover]").popover()},handleScrollToTopButton=function(){$(document).scroll(function(){$(document).scrollTop()>=200?$("[data-click=scroll-top]").addClass("in"):$("[data-click=scroll-top]").removeClass("in")}),$("[data-click=scroll-top]").click(function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("body").offset().top},500)})},handleThemePageStructureControl=function(){if($.cookie&&$.cookie("theme")){0!==$(".theme-list").length&&($(".theme-list [data-theme]").closest("li").removeClass("active"),$('.theme-list [data-theme="'+$.cookie("theme")+'"]').closest("li").addClass("active"));var e="/App/ColorAdmin/assets/css/theme/"+$.cookie("theme")+".css";$("#theme").attr("href",e)}$.cookie&&$.cookie("sidebar-styling")&&0!==$(".sidebar").length&&"grid"===$.cookie("sidebar-styling")&&($(".sidebar").addClass("sidebar-grid"),$('[name=sidebar-styling] option[value="2"]').prop("selected",!0)),$.cookie&&$.cookie("header-styling")&&0!==$(".header").length&&"navbar-inverse"===$.cookie("header-styling")&&($(".header").addClass("navbar-inverse"),$('[name=header-styling] option[value="2"]').prop("selected",!0)),$.cookie&&$.cookie("content-gradient")&&0!==$("#page-container").length&&"enabled"===$.cookie("content-gradient")&&($("#page-container").addClass("gradient-enabled"),$('[name=content-gradient] option[value="2"]').prop("selected",!0)),$.cookie&&$.cookie("content-styling")&&0!==$("body").length&&"black"===$.cookie("content-styling")&&($("body").addClass("flat-black"),$('[name=content-styling] option[value="2"]').prop("selected",!0)),$(".theme-list [data-theme]").click(function(){var e="assets/css/theme/"+$(this).attr("data-theme")+".css";$("#theme").attr("href",e),$(".theme-list [data-theme]").not(this).closest("li").removeClass("active"),$(this).closest("li").addClass("active"),$.cookie("theme",$(this).attr("data-theme"))}),$(".theme-panel [name=header-styling]").on("change",function(){var e=1===$(this).val()?"navbar-default":"navbar-inverse",t=1===$(this).val()?"navbar-inverse":"navbar-default";$("#header").removeClass(t).addClass(e),$.cookie("header-styling",e)}),$(".theme-panel [name=sidebar-styling]").on("change",function(){2===$(this).val()?($("#sidebar").addClass("sidebar-grid"),$.cookie("sidebar-styling","grid")):($("#sidebar").removeClass("sidebar-grid"),$.cookie("sidebar-styling","default"))}),$(".theme-panel [name=content-gradient]").on("change",function(){2===$(this).val()?($("#page-container").addClass("gradient-enabled"),$.cookie("content-gradient","enabled")):($("#page-container").removeClass("gradient-enabled"),$.cookie("content-gradient","disabled"))}),$(document).on("change",".theme-panel [name=content-styling]",function(){2===$(this).val()?($("body").addClass("flat-black"),$.cookie("content-styling","black")):($("body").removeClass("flat-black"),$.cookie("content-styling","default"))}),$(document).on("change",".theme-panel [name=sidebar-fixed]",function(){1===$(this).val()?(2===$(".theme-panel [name=header-fixed]").val()&&(alert("Default Header with Fixed Sidebar option is not supported. Proceed with Fixed Header with Fixed Sidebar."),$('.theme-panel [name=header-fixed] option[value="1"]').prop("selected",!0),$("#header").addClass("navbar-fixed-top"),$("#page-container").addClass("page-header-fixed")),$("#page-container").addClass("page-sidebar-fixed"),$("#page-container").hasClass("page-sidebar-minified")||generateSlimScroll($('.sidebar [data-scrollbar="true"]'))):($("#page-container").removeClass("page-sidebar-fixed"),0!==$(".sidebar .slimScrollDiv").length&&($(window).width()<=979?$(".sidebar").each(function(){if(!$("#page-container").hasClass("page-with-two-sidebar")||!$(this).hasClass("sidebar-right")){$(this).find(".slimScrollBar").remove(),$(this).find(".slimScrollRail").remove(),$(this).find('[data-scrollbar="true"]').removeAttr("style");var e=$(this).find('[data-scrollbar="true"]').parent(),t=$(e).html();$(e).replaceWith(t)}}):$(window).width()>979&&($('.sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('.sidebar [data-scrollbar="true"]').removeAttr("style"))),0===$("#page-container .sidebar-bg").length&&$("#page-container").append('<div class="sidebar-bg"></div>'))}),$(document).on("change",".theme-panel [name=header-fixed]",function(){1===$(this).val()?($("#header").addClass("navbar-fixed-top"),$("#page-container").addClass("page-header-fixed"),$.cookie("header-fixed",!0)):(1===$(".theme-panel [name=sidebar-fixed]").val()&&(alert("Default Header with Fixed Sidebar option is not supported. Proceed with Default Header with Default Sidebar."),$('.theme-panel [name=sidebar-fixed] option[value="2"]').prop("selected",!0),$("#page-container").removeClass("page-sidebar-fixed"),0===$("#page-container .sidebar-bg").length&&$("#page-container").append('<div class="sidebar-bg"></div>')),$("#header").removeClass("navbar-fixed-top"),$("#page-container").removeClass("page-header-fixed"),$.cookie("header-fixed",!1))})},handleThemePanelExpand=function(){$(document).on("click",'[data-click="theme-panel-expand"]',function(){$(".theme-panel").hasClass("active")?$(".theme-panel").removeClass("active"):$(".theme-panel").addClass("active")})},handleAfterPageLoadAddClass=function(){0!==$("[data-pageload-addclass]").length&&$(window).load(function(){$("[data-pageload-addclass]").each(function(){var e=$(this).attr("data-pageload-addclass");$(this).addClass(e)})})},handleSavePanelPosition=function(e){if(0!==$(".ui-sortable").length){var t=[],a=0;$.when($(".ui-sortable").each(function(){var e=$(this).find("[data-sortable-id]");if(0!==e.length){var n=[];$(e).each(function(){var e=$(this).attr("data-sortable-id");n.push({id:e})}),t.push(n)}else t.push([]);a++})).done(function(){var a=window.location.href;a=a.split("?"),a=a[0],localStorage.setItem(a,JSON.stringify(t)),$(e).find('[data-id="title-spinner"]').delay(500).fadeOut(500,function(){$(this).remove()})})}},handleLocalStorage=function(){if("undefined"!=typeof Storage&&"undefined"!=typeof localStorage){var e=window.location.href;e=e.split("?"),e=e[0];var t=localStorage.getItem(e);if(t){t=JSON.parse(t);var a=0;$(".panel").parent('[class*="col-"]').each(function(){var e=t[a],n=$(this);e&&$.each(e,function(e,t){var a=$('[data-sortable-id="'+t.id+'"]').not('[data-init="true"]');if(0!==$(a).length){var o=$(a).clone();$(a).remove(),$(n).append(o),$('[data-sortable-id="'+t.id+'"]').attr("data-init","true")}}),a++})}}else alert("Your browser is not supported with the local storage")},handleResetLocalStorage=function(){$(document).on("click","[data-click=reset-local-storage]",function(e){e.preventDefault();$("body").append('<div class="modal fade" data-modal-id="reset-local-storage-confirmation">    <div class="modal-dialog">        <div class="modal-content">            <div class="modal-header">                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>                <h4 class="modal-title"><i class="fa fa-refresh m-r-5"></i> Reset Local Storage Confirmation</h4>            </div>            <div class="modal-body">                <div class="alert alert-info m-b-0">Would you like to RESET all your saved widgets and clear Local Storage?</div>            </div>            <div class="modal-footer">                <a href="javascript:;" class="btn btn-sm btn-white" data-dismiss="modal"><i class="fa fa-close"></i> No</a>                <a href="javascript:;" class="btn btn-sm btn-inverse" data-click="confirm-reset-local-storage"><i class="fa fa-check"></i> Yes</a>            </div>        </div>    </div></div>'),$('[data-modal-id="reset-local-storage-confirmation"]').modal("show")}),$(document).on("hidden.bs.modal",'[data-modal-id="reset-local-storage-confirmation"]',function(e){$('[data-modal-id="reset-local-storage-confirmation"]').remove()}),$(document).on("click","[data-click=confirm-reset-local-storage]",function(e){e.preventDefault();var t=window.location.href;t=t.split("?"),t=t[0],localStorage.removeItem(t),location.reload()})},handleIEFullHeightContent=function(){(window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))&&$('.vertical-box-row [data-scrollbar="true"][data-height="100%"]').each(function(){var e=$(this).closest(".vertical-box-row"),t=$(e).height();$(e).find(".vertical-box-cell").height(t)})},handleUnlimitedTabsRender=function(){function e(e,t){var a=(parseInt($(e).css("margin-left")),$(e).width()),n=$(e).find("li.active").width(),o=t>-1?t:150,r=0;if($(e).find("li.active").prevAll().each(function(){n+=$(this).width()}),$(e).find("li").each(function(){r+=$(this).width()}),n>=a){var s=n-a;r!==n&&(s+=40),$(e).find(".nav.nav-tabs").animate({marginLeft:"-"+s+"px"},o)}n!==r&&r>=a?$(e).addClass("overflow-right"):$(e).removeClass("overflow-right"),n>=a&&r>=a?$(e).addClass("overflow-left"):$(e).removeClass("overflow-left")}function t(e,t){var a=$(e).closest(".tab-overflow"),n=parseInt($(a).find(".nav.nav-tabs").css("margin-left")),o=$(a).width(),r=0,s=0;switch($(a).find("li").each(function(){$(this).hasClass("next-button")||$(this).hasClass("prev-button")||(r+=$(this).width())}),t){case"next":var i=r+n-o;i<=o?(s=i-n,setTimeout(function(){$(a).removeClass("overflow-right")},150)):s=o-n-80,0!==s&&$(a).find(".nav.nav-tabs").animate({marginLeft:"-"+s+"px"},150,function(){$(a).addClass("overflow-left")});break;case"prev":i=-n,i<=o?($(a).removeClass("overflow-left"),s=0):s=i-o+80,$(a).find(".nav.nav-tabs").animate({marginLeft:"-"+s+"px"},150,function(){$(a).addClass("overflow-right")})}}function a(){$(".tab-overflow").each(function(){var t=$(this).width(),a=0,n=$(this),o=t;$(n).find("li").each(function(){var e=$(this);a+=$(e).width(),$(e).hasClass("active")&&a>t&&(o-=a)}),e(this,0)})}$('[data-click="next-tab"]').click(function(e){e.preventDefault(),t(this,"next")}),$('[data-click="prev-tab"]').click(function(e){e.preventDefault(),t(this,"prev")}),$(window).resize(function(){$(".tab-overflow .nav.nav-tabs").removeAttr("style"),a()}),a()},handleMobileSidebar=function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$("#page-container").hasClass("page-sidebar-minified")&&($('#sidebar [data-scrollbar="true"]').css("overflow","visible"),$('.page-sidebar-minified #sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('.page-sidebar-minified #sidebar [data-scrollbar="true"]').removeAttr("style"),$(".page-sidebar-minified #sidebar [data-scrollbar=true]").trigger("mouseover"));var e=0;$(".page-sidebar-minified .sidebar [data-scrollbar=true] a").bind("touchstart",function(t){var a=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],n=a.pageY;e=n-parseInt($(this).closest("[data-scrollbar=true]").css("margin-top"))}),$(".page-sidebar-minified .sidebar [data-scrollbar=true] a").bind("touchmove",function(t){if(t.preventDefault(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var a=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],n=a.pageY,o=n-e;$(this).closest("[data-scrollbar=true]").css("margin-top",o+"px")}}),$(".page-sidebar-minified .sidebar [data-scrollbar=true] a").bind("touchend",function(t){var a=$(this).closest("[data-scrollbar=true]"),n=$(window).height(),o=parseInt($("#sidebar").css("padding-top")),r=$("#sidebar").height();e=$(a).css("margin-top");var s=o;$(".sidebar").not(".sidebar-right").find(".nav").each(function(){s+=$(this).height()});var i,l=-parseInt(e)+$(".sidebar").height();l>=s&&n<=s&&r<=s?(i=n-s-20,$(a).animate({marginTop:i+"px"})):parseInt(e)>=0||r>=s?$(a).animate({marginTop:"0px"}):(i=e,$(a).animate({marginTop:i+"px"}))})},handleUnlimitedTopMenuRender=function(){function e(e,t){var a=$(e).closest(".nav"),n=parseInt($(a).css("margin-left")),o=$(".top-menu").width()-88,r=0,s=0;switch($(a).find("li").each(function(){$(this).hasClass("menu-control")||(r+=$(this).width())}),t){case"next":var i=r+n-o;i<=o?(s=i-n+128,setTimeout(function(){$(a).find(".menu-control.menu-control-right").removeClass("show")},150)):s=o-n-128,0!==s&&$(a).animate({marginLeft:"-"+s+"px"},150,function(){$(a).find(".menu-control.menu-control-left").addClass("show")});break;case"prev":i=-n,i<=o?($(a).find(".menu-control.menu-control-left").removeClass("show"),s=0):s=i-o+88,$(a).animate({marginLeft:"-"+s+"px"},150,function(){$(a).find(".menu-control.menu-control-right").addClass("show")})}}function t(){var e=$(".top-menu .nav"),t=$(".top-menu .nav > li"),a=$(".top-menu .nav > li.active"),n=$(".top-menu"),o=(parseInt($(e).css("margin-left")),$(n).width()-128),r=$(".top-menu .nav > li.active").width(),s=0;if($(a).prevAll().each(function(){r+=$(this).width()}),$(t).each(function(){$(this).hasClass("menu-control")||(s+=$(this).width())}),r>=o){var i=r-o+128;$(e).animate({marginLeft:"-"+i+"px"},0)}r!==s&&s>=o?$(e).find(".menu-control.menu-control-right").addClass("show"):$(e).find(".menu-control.menu-control-right").removeClass("show"),r>=o&&s>=o?$(e).find(".menu-control.menu-control-left").addClass("show"):$(e).find(".menu-control.menu-control-left").removeClass("show")}$('[data-click="next-menu"]').click(function(t){t.preventDefault(),e(this,"next")}),$('[data-click="prev-menu"]').click(function(t){t.preventDefault(),e(this,"prev")}),$(window).resize(function(){$(".top-menu .nav").removeAttr("style"),t()}),t()},handleTopMenuSubMenu=function(){$(".top-menu .sub-menu .has-sub > a").click(function(){var e=$(this).closest("li").find(".sub-menu").first(),t=$(this).closest("ul").find(".sub-menu").not(e);$(t).not(e).slideUp(250,function(){$(this).closest("li").removeClass("expand")}),$(e).slideToggle(250,function(){var e=$(this).closest("li");$(e).hasClass("expand")?$(e).removeClass("expand"):$(e).addClass("expand")})})},handleMobileTopMenuSubMenu=function(){$(".top-menu .nav > li.has-sub > a").click(function(){if($(window).width()<=767){var e=$(this).closest("li").find(".sub-menu").first(),t=$(this).closest("ul").find(".sub-menu").not(e);$(t).not(e).slideUp(250,function(){$(this).closest("li").removeClass("expand")}),$(e).slideToggle(250,function(){var e=$(this).closest("li");$(e).hasClass("expand")?$(e).removeClass("expand"):$(e).addClass("expand")})}})},handleTopMenuMobileToggle=function(){$('[data-click="top-menu-toggled"]').click(function(){$(".top-menu").slideToggle(250)})},handleClearSidebarSelection=function(){$(".sidebar .nav > li, .sidebar .nav .sub-menu").removeClass("expand").removeAttr("style")},handleClearSidebarMobileSelection=function(){$("#page-container").removeClass("page-sidebar-toggled")},App=function(){return{init:function(){this.initLocalStorage(),this.initSidebar(),this.initTopMenu(),this.initPageLoad(),this.initComponent(),this.initThemePanel()},initSidebar:function(){handleSidebarMenu(),handleMobileSidebarToggle(),handleSidebarMinify(),handleMobileSidebar()},initSidebarSelection:function(){handleClearSidebarSelection()},initSidebarMobileSelection:function(){handleClearSidebarMobileSelection()},initTopMenu:function(){handleUnlimitedTopMenuRender(),handleTopMenuSubMenu(),handleMobileTopMenuSubMenu(),handleTopMenuMobileToggle()},initPageLoad:function(){handlePageContentView()},initComponent:function(){handleDraggablePanel(),handleIEFullHeightContent(),handleSlimScroll(),handleUnlimitedTabsRender(),handlePanelAction(),handelTooltipPopoverActivation(),handleScrollToTopButton(),handleAfterPageLoadAddClass()},initLocalStorage:function(){handleLocalStorage()},initThemePanel:function(){handleThemePageStructureControl(),handleThemePanelExpand(),handleResetLocalStorage()},scrollTop:function(){$("html, body").animate({scrollTop:$("body").offset().top},0)}}}();!function(){"use strict";function e(e,t,a){App.initPageLoad()}angular.module("app").controller("pageLoaderController",e);e.$inject=["$scope","$rootScope","$state"]}(),function(){"use strict";function e(e,t,a){setTimeout(function(){App.initTopMenu()},0)}angular.module("app").controller("topMenuController",e);e.$inject=["$scope","$rootScope","$state"]}(),function(){"use strict";function e(e,t,a){App.initSidebar()}angular.module("app").controller("sidebarController",e),e.$inject=["$scope","$rootScope","$state"]}(),function(){"use strict";function e(e,t,a){App.initThemePanel()}angular.module("app").controller("themePanelController",e),e.$inject=["$scope","$rootScope","$state"]}(),function(){"use strict";function e(){function e(e,t,a){function n(){}var o=e;o.click=n,o.textProperty=a.textproperty,o.hrefProperty=a.hrefproperty}return{link:e,options:"=",scope:{list:"=list",hrefProperty:"@hrefProperty",textProperty:"@textProperty"},
template:['<ol ng-if="list && list.length > 0" class="breadcrumb pull-right">','<li ng-repeat="bc in list">','<a ng-if="bc[hrefProperty] || bc.href" href="{{bc[hrefProperty] || bc.href}}">{{bc[textProperty] || bc.text}}</a>','<span ng-if="!(bc[hrefProperty] || bc.href)">{{bc.text}}</span>',"</li>","</ol>"].join("")}}angular.module("app.core").directive("breadcrumbs",e)}(),function(){"use strict";function e(e){var a=new t;e.breadcrumbs=a}function t(){function e(e){return n.clear(),n.add(e)}function t(e){if(n.list||n.clear(),!e)throw console.error(e),new Error("Invalid breadcrumbs param.");if("string"==typeof e)n.list.push({text:e,href:""});else if(Array.isArray(e))e.forEach(function(e){n.add(e)});else{if("object"!=typeof e)throw console.error(e),new Error("Invalid breadcrumbs param: "+typeof e);if(!e||!e.text)throw console.error(e),new Error("Invalid breadcrumbs param.");n.list.push(e)}return n}function a(){return n.list=[],n}var n=this;n.list=[],n.add=t,n.set=e,n.clear=a}angular.module("app.core").run(e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e,t,a,n,o){function r(){u(),d(),s(),h.get()}function s(){h.morrisBarChart={data:[{year:"2015 Q1",sales:3,net:2,profit:1},{year:"2015 Q2",sales:2,net:.9,profit:.45},{year:"2015 Q3",sales:1,net:.4,profit:.2},{year:"2015 Q4",sales:2,net:1,profit:.5}],options:{xkey:"year",ykeys:["sales","net","profit"],labels:["Sales","Net","Profit"],barColors:["#777777","#e74c3c","rgb(11, 98, 164)"]}}}function i(){o.getDashboardData().then(function(e){h.model=e,console.debug(h.model),l(),c()},function(e){console.log(e)})}function l(){h.barChart.data=[[],[],[]],h.barChart.series=["Attended","OnTime","Late"],angular.forEach(h.model.performanceChartItems,function(e){h.barChart.labels.push(e.label),h.barChart.data[0].push(e.stats.completed),h.barChart.data[1].push(e.stats.onTime),h.barChart.data[2].push(e.stats.late)})}function c(){if(h.model.currentMonthStats&&h.model.currentMonthStats.total>0){var e=[{label:"Attended",value:h.model.currentMonthStats.completedPercentage},{label:"Missed",value:h.model.currentMonthStats.missedPercentage},{label:"Due",value:h.model.currentMonthStats.duePercentage}];h.morrisDonutChart.completedThisMonth=e;var t=[{label:"OnTime",value:h.model.currentMonthStats.onTimePercentage},{label:"Late",value:h.model.currentMonthStats.latePercentage}];h.morrisDonutChart.lateThisMonth=t}if(h.model.lastMonthStats&&h.model.lastMonthStats.total>0){var a=[{label:"Attended",value:h.model.lastMonthStats.completedPercentage||0},{label:"Missed",value:h.model.lastMonthStats.missedPercentage||0},{label:"Due",value:h.model.lastMonthStats.duePercentage||0}];h.morrisDonutChart.completedLastMonth=a;var n=[{label:"OnTime",value:h.model.lastMonthStats.onTimePercentage||0},{label:"Late",value:h.model.lastMonthStats.latePercentage||0}];h.morrisDonutChart.lateLastMonth=n}}function d(){}function u(){var e={legend:{display:!0,position:"top",labels:{fontColor:"rgb(255, 99, 132)"}}};h.barChart.options=e}var p="#f59c1a",m="#2d353c",f="#b6c2c9",g="#ff5b57",h=e;h.init=r,h.get=i,h.morrisDonutChart={options:{formatter:function(e){return e+"%"},resize:!0,colors:["#00acac",g,f,m,p]}},h.barChart={labels:[],series:[],colors:[m,"#00acac",g,"#348fe2",f,p],data:[],option:{}},h.init();angular.element(document).ready(function(){var e=[];e[0]="January",e[1]="February",e[2]="March",e[3]="April",e[4]="May",e[5]="Jun",e[6]="July",e[7]="August",e[8]="September",e[9]="October",e[10]="November",e[11]="December";new jvm.WorldMap({map:"world_merc_en",scaleColors:["#e74c3c","#0071a4"],container:$("#visitors-map"),normalizeFunction:"linear",hoverOpacity:.5,hoverColor:!1,markerStyle:{initial:{fill:"#4cabc7",stroke:"transparent",r:3}},regions:[{attribute:"fill"}],regionStyle:{initial:{fill:"rgb(97,109,125)","fill-opacity":1,stroke:"none","stroke-width":.4,"stroke-opacity":1},hover:{"fill-opacity":.8},selected:{fill:"yellow"}},series:{regions:[{values:{IN:"#00acac",US:"#00acac",KR:"#00acac"}}]},focusOn:{x:.5,y:.5,scale:2},backgroundColor:"#2d353c"})})}angular.module("app.dashboard").controller("dashboardController",e),e.$inject=["$scope","$rootScope","$state","$timeout","dashboardService"]}(),function(){"use strict";function e(e,t,a){function n(t,n){function o(t){e.debug("StackTrace: "+t)}function r(t){e.warn("Error logging using StackTrace.js failed"),e.log(t)}try{e.error(t.name,t.message),a.StackTrace.fromError(t).then(o).catch(r)}catch(t){e.warn("Error logging failed"),e.log(t)}}return n}angular.module("app.core").factory("errorLogService",e),e.$inject=["$log","$window","stacktraceService"]}(),function(){"use strict";function e(e,t,a,n){}function t(e){a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,e.AuthError=a}function a(e){this.name="AuthError",this.message=e||"You are not authorized to perform this operation.",this.stack=(new Error).stack}angular.module("app.core").config(e).run(t),e.$inject=["$stateProvider","$provide","$httpProvider","$logProvider"],t.$inject=["$window"]}(),function(){"use strict";function e(e,t,a,n){function o(e,t,a,n){return function(o,r){a(o,r);var s=(e.get("$rootScope"),e.get("$state")),i=e.get("$location");t.debug("Default error handler.");try{o instanceof AuthError?(t.error("An Auth Error!"),i.replace(),s.go("app.error.unauth",{error:o})):(t.error("An Error!"),s.go("app.error.app",{error:o})),n(o,r)}catch(e){t.warn("Error logging failed"),t.log(e)}}}t.decorator("$exceptionHandler",o),o.$inject=["$injector","$log","$delegate","errorLogService"]}angular.module("app.core").config(e),e.$inject=["$stateProvider","$provide","$httpProvider","$logProvider"]}(),function(){"use strict";function e(){return{StackTrace:StackTrace}}angular.module("app.core").factory("stacktraceService",e)}(),function(){"use strict";function e(e,t,a,n,o,r,s){function i(e,t,a,n){return p("GET",e,t,a,n)}function l(e,t,a,n){return p("POST",e,t,a,n)}function c(e,t,a,n){return p("DELETE",e,t,a,n)}function d(e,t,a,n){return p("PUT",e,t,a,n)}function u(e,t,a,o,r){var s={headers:{},method:e};return s.headers["Content-Type"]=o||"application/json",s.url=r?t:n.api.baseUrl+t,o===m&&(a=$.param(a)),"GET"===s.method?s.params=a:s.data=a,s}function p(n,o,s,i,l){function c(t){e.loadingMessage="",p.resolve(t.data)}function d(t){e.loadingMessage="",p.reject(t)}n=n.toUpperCase();var p=t.defer(),m=u(n,o,s,i,l);return r.log("Request Data: ",m),e.promise=a(m).then(c,d),p.promise}var m="application/x-www-form-urlencoded";return{Get:i,Post:l,Delete:c,Put:d}}angular.module("app.core").service("AppHttpService",e),e.$inject=["$rootScope","$q","$http","setting","$localStorage","$log","_"]}(),function(){"use strict";function e(e,t,a,n){function o(e){e.headers=e.headers||{};var t=null;return a.User.hasLoggedIn()&&(t=a.User.getAccessToken()),t&&(e.headers.Authorization="Bearer "+t),a.notifications.clear(),e}function r(t){return e.reject(t)}function s(e){return e}function i(o){console.error(o),o.data||(o.data={}),console.error(o.data);var r=n.get("$state"),s="";if(400===o.status)o.data.error&&o.data.error_description?(console.debug(1),a.notifications.error(o.data.error_description,o.data.error)):o.data.modelState?(console.debug(2),angular.forEach(o.data.modelState,function(e,t){console.log(t+": "+e),a.notifications.error(e)})):o.data.message?(console.debug(3),a.notifications.error(o.data.message)):isObject(o.data)&&(console.debug(4),t.log(toString.call(o.data)),t.log(o.data),angular.forEach(o.data,function(e,t){console.log(t+": "+e),a.notifications.error(e)}));else if(401===o.status)a.notifications.notify("You are not authorized to perform this operation."),r.go("app.error.unauth");else if(403===o.status)console.log(o.data),s=l(o.data),a.notifications.error(s||"You are forbidden to perform this operation.");else{if(500!==o.status)throw console.debug(o),new Error(o);console.error(o.data),s=l(o.data),a.notifications.error(s)}return e.reject(o)}function l(e){var t="";return e.exceptionMessage?t=e.exceptionMessage:e.message&&(t=e.message),t}return{request:o,requestError:r,response:s,responseError:i}}angular.module("app.core").factory("interceptorService",e),e.$inject=["$q","$log","$rootScope","$injector"]}(),function(){"use strict";function e(){return function(e){if(void 0!==e)return e.replace(/\n/g,"<br />")}}angular.module("app.core").filter("breakLines",e)}(),function(){"use strict";function e(){return{compile:t}}function t(e,t,a){return t.ngClick="!("+t.aDisabled+") && ("+t.ngClick+")",function(e,t,a){e.$watch(a.aDisabled,function(e){void 0!==e&&(t.toggleClass("disabled",e),e?(t.css("cursor","not-allowed"),t.css("pointer-events","none")):(t.css("cursor","pointer"),t.css("pointer-events","all")))}),t.on("click",function(t){e.$eval(a.aDisabled)&&t.preventDefault()})}}angular.module("app.core").directive("aDisabled",e)}(),function(){"use strict";function e(){return{require:"ngModel",link:function(e,t,a,n){n.$parsers.push(function(e){return parseInt(e,10)}),n.$formatters.push(function(e){return""+e})}}}angular.module("app.core").directive("convertToNumber",e)}(),function(){"use strict";function e(e){return{restrict:"A",link:function(t,a,n){t.isLoading=function(){return e.pendingRequests.length>0},t.$watch(t.isLoading,function(e){e?a.show():a.hide()})}}}angular.module("app.core").directive("loading",e),e.$inject=["$http"]}(),function(){"use strict";function e(){return function(e,t,a){console.log(t),t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(a.ngEnter,{event:t})}),t.preventDefault())})}}angular.module("app.core").directive("ngEnter",e)}(),function(){"use strict";function e(){function e(e,t,a,n,o){console.log(e.model),e.$watch("model",function(){console.log("Model Changed",e.model),e.$evalAsync(function(){e.$eval(a.ngModelChanged,{event:event})})})}return{require:"ngModel",scope:{model:"=ngModel"},replace:!0,link:e}}angular.module("app.core").directive("ngModelChange",e)}(),function(){"use strict";function e(){return function(e,t,a){t.bind("load",function(t){console.debug("image is loaded"),e.$apply(function(){e.$eval(a.ngOnLoad,{event:t})})}),t.bind("error",function(){console.debug("image could not be loaded")})}}angular.module("app.core").directive("ngOnLoad",e)}(),function(){"use strict";function e(e){function t(e,t,u,p){c=e,c.daysOfWeek=d,c.checkAllDays=a,c.uncheckAllDays=n,c.checkWeekdays=o,c.checkWeekends=r,c.invertCheckedDays=s,c.updateModel=i,c.setEnabledDays=l,c.enabledDays&&c.$watch("enabledDays",function(){console.debug("Enabled Days: ",c.enabledDays),c.setEnabledDays()})}function a(){angular.forEach(c.daysOfWeek,function(e){e.enabled&&(e.checked=!0)}),c.updateModel()}function n(){angular.forEach(c.daysOfWeek,function(e){e.enabled&&(e.checked=!1)}),c.updateModel()}function o(){angular.forEach(c.daysOfWeek,function(e){e.enabled&&(e.checked=e.no>0&&e.no<6)}),c.updateModel()}function r(){angular.forEach(c.daysOfWeek,function(e){e.enabled&&(e.checked=0===e.no||6===e.no)}),c.updateModel()}function s(){angular.forEach(c.daysOfWeek,function(e){e.enabled&&(e.checked=!e.checked)}),c.updateModel()}function i(){return c.selectedDaysOfWeek=[],angular.forEach(c.daysOfWeek,function(e){e.enabled&&e.checked&&c.selectedDaysOfWeek.push(e.no)}),c.selectedDays=c.selectedDaysOfWeek,c.selectedDaysOfWeek}function l(){c.enabledDays&&angular.forEach(c.daysOfWeek,function(t){t.enabled=e.contains(c.enabledDays,t.no),t.checked=t.enabled})}var c,d=[{no:1,name:"Monday",checked:!0,enabled:!0},{no:2,name:"Tuesday",checked:!0,enabled:!0},{no:3,name:"Wednesday",checked:!0,enabled:!0},{no:4,name:"Thursday",checked:!0,enabled:!0},{no:5,name:"Friday",checked:!0,enabled:!0},{no:6,name:"Saturday",checked:!1,enabled:!0},{no:0,name:"Sunday",checked:!1,enabled:!0}];return{require:"ngModel",link:t,scope:{selectedDays:"=ngModel",enabledDays:"=enabledDays"},template:['   <label class="control-label"><strong>Days of Week <span class="text-danger">*</span></strong></label>','   <div class="controls">','       <div class="col-sm-6">','           <div ng-repeat="day in daysOfWeek">','               <label><input type="checkbox" ng-disabled="!day[\'enabled\']" ng-model="day[\'checked\']" ng-change="updateModel()"> {{day.name}}</label>',"           </div>","       </div>",'       <div class="col-sm-6">','           <button type="button" class="btn btn-success btn-block" ng-click="checkWeekdays()">Weekdays</button>','           <button type="button" class="btn btn-success btn-block" ng-click="checkWeekends()">Weekends</button>','           <button type="button" class="btn btn-success btn-block" ng-click="checkAllDays()">Check All</button>','           <button type="button" class="btn btn-success btn-block" ng-click="uncheckAllDays()">Uncheck All</button>','           <button type="button" class="btn btn-success btn-block" ng-click="invertCheckedDays()">Invert Checks</button>',"       </div>","   </div>"].join("\n")}}angular.module("app.core").directive("weekDaysSelection",e),e.$inject=["_"]}(),function(){"use strict";function e(e){var a=new t(e);e.Navigation=a}function t(e){function t(){o.Menu=[],o.Build()}function a(){return o.Menu=[],angular.forEach(r,function(t){n(t,e.User)}),e.Menu=o.Menu,o}function n(e,t){var a=t&&t.Role;if(a){var n=e.roles&&e.roles.length>0,r=!n,s=e.roles.indexOf(t.Role.Name)>-1;!e.unauth&&(r||a&&n&&s)&&o.Menu.push(e)}else e.unauth&&o.Menu.push(e);return o}var o=this;o.Menu=[],o.Build=a,o.Add=n,o.Rebuild=t;var r=[{name:"Login",state:"app.account.login",unauth:!0,roles:[]},{name:"Dashboard",state:"app.dashboard.home",roles:[]},{name:"Notifications",state:"app.notifications.list",roles:[]},{name:"Messages",state:"app.messages",roles:[],subMenuItems:[{name:"Inbox",state:"app.messages.inbox",roles:[]},{name:"Sent",state:"app.messages.sent",roles:[]}]},{name:"Shifts",state:"app.shifts.list",roles:[]},{name:"Users",state:"app.users.list",roles:["SuperAdmin","Admin"]},{name:"Logs",state:"app.logs.list",roles:["SuperAdmin"]},{name:"Logout",state:"app.account.logout",roles:[]}]}angular.module("app.core").run(e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e){return function(t){function a(a){for(var o in arguments){var r=arguments[o];e.isArray(r)?e.find(r,n)?l(r):t.log(r):(e.isObject(r),t.log(r))}}function n(t){return e.isObject(t)}function o(e){t.info(e)}function r(e){console.log(e),console.error(e)}function s(e){t.warn(e)}function i(e){t.debug(e)}function l(e,a){console.table?console.table(e,a):t.log(JSON.stringify(e))}return{log:a,info:o,error:r,warn:s,debug:i,table:l}}}angular.module("app.core").factory("logger",e),e.$inject=["_"]}(),function(){"use strict";function e(){function e(e,t,a){function n(){r.messages=[]}function o(){r.errors=[]}var r=e;r.closeMessages=n,r.closeErrors=o}return{link:e,scope:{messagesTitle:"=messagesTitle",messages:"=messages",errorsTitle:"=errorsTitle",errors:"=errors"},template:["\x3c!-- begin errors --\x3e",'<div ng-show="errors && errors.length > 0" class="alert alert-block alert-danger">','    \x3c!--<button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>--\x3e','    <button type="button" class="close" ng-click="closeErrors()"><span aria-hidden="true">&times;</span></button>','    <h4 class=""><i class="fa fa-exclamation"></i> {{ errorsTitle || "Error" }}</h4>',"    <p>","        <ul>",'            <li class="" ng-repeat="error in errors track by $index">{{ error }}</li>',"        </ul>","    </p>","</div>","\x3c!-- end errors --\x3e","\x3c!-- begin messages --\x3e",'<div ng-show="messages && messages.length > 0" class="alert alert-block alert-success">','    \x3c!--<button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>--\x3e','    <button type="button" class="close" ng-click="closeMessages()"><span aria-hidden="true">&times;</span></button>','    <h4 class=""><i class="fa fa-check-square-o"></i> {{messagesTitle || "Messages"}}</h4>',"    <p>","        <ul>",'            <li class="" ng-repeat="message in messages track by $index">{{ message }}</li>',"        </ul>","    </p>","</div>","\x3c!-- end messages --\x3e"].join("\n")}}angular.module("app.core").directive("notifications",e)}(),function(){"use strict";function e(e,a){function n(){a.listNotifications().then(function(t){e.headerNotifications=t,e.totalNewNotifications=0,e.totalNewMessages=0,angular.forEach(t,function(t){t.isMessage?e.totalNewMessages=e.totalNewMessages+1:e.totalNewNotifications=e.totalNewNotifications+1})},function(e){})}var o=new t;e.notifications=o,e.refreshHeaderNotifications=n}function t(){function e(){c.clearMessages(),c.clearErrors(),c.clearNotifications()}function t(){c.messages.length=0,c.messagesTitle="Done"}function a(e){t(),n(e)}function n(e){if(Array.isArray(e))e.forEach(function(e){c.message(e)});else if("string"==typeof e)c.messages.push(e);else{if("object"!=typeof e)throw new Error("Invalid notification param type: "+typeof e);e.message&&c.message(e.message),e.title&&(c.messagesTitle=e.title)}}function o(e){s(),r(e)}function r(e){if(Array.isArray(e))e.forEach(function(e){c.error(e)});else if("string"==typeof e)c.errors.push(e);else{if("object"!=typeof e)throw new Error("Invalid notification param type: "+typeof e);e.message&&c.error(e.message),e.title&&(c.errorsTitle=e.title)}}function s(){c.errors.length=0,c.errorsTitle="Error"}function i(e,t,a){function n(){}function o(e){}function r(e,t){}function s(){}var i={title:t,text:e,image:a,sticky:!1,time:c.notificationTime,fade_in_speed:"medium",fade_out_speed:2e3,class_name:"my-sticky-class",before_open:n,after_open:o,before_close:r,after_close:s};$.gritter.add(i)}function l(){function e(e){}function t(){}$.gritter.removeAll({before_close:e,after_close:t})}var c=this;c.errors=[],c.errorsTitle="Error",c.error=o,c.addError=r,c.messages=[],c.messagesTitle="Done",c.message=a,c.addMessage=n,c.notificationTime=8e3,c.notify=i,c.clear=e,c.clearMessages=t,c.clearErrors=s,c.clearNotifications=l,c.clear()}angular.module("app.core").run(e),e.$inject=["$rootScope","usersService"]}(),function(){"use strict";function e(e,a,n,o){var r=new t(n,o,a);e.User=r}function t(e,t,a){function n(){if(!a)throw new Error("$state not defined");y.hasAnyRole("SuperAdmin, Admin")?a.go("app.dashboard.home"):y.hasAnyRole("RecManager")?a.go("app.employees.list"):y.hasAnyRole("HRManager, Employee")&&a.go("app.shifts.list")}function o(){if(!a)throw new Error("$state not defined");var e="";return y.hasAnyRole("SuperAdmin, Admin")?e=a.href("app.dashboard.home"):y.hasAnyRole("RecManager")?e=a.href("app.employees.list"):y.hasAnyRole("HRManager, Employee")&&(e=a.href("app.shifts.list")),e}function r(e){t.authData=e,null===(C=e)&&d()}function s(){return void 0!==C&&null!==C||(C=t.authData),void 0===C&&(C=null),C}function i(){var e=s();return e&&e.access_token?e.access_token:""}function l(e){t.userData=e,$=e,c(e)}function c(e){y.Id=e.id,y.Name=e.firstName+" "+e.lastName,y.Email=e.email,y.Role={Id:e.role.id,Name:e.role.name}}function d(){delete t.authData,C=null,$=null,y.Id=null,y.Name=null,y.Email=null,y.Role=null}function u(){return $}function p(){return g()||void 0===$||null===$||void 0===$.role||null===$.role}function m(){return!p()}function f(){return!y.hasNotLoggedIn()}function g(){var e=s();return void 0===e||null===e||void 0===e.access_token||null===e.access_token}function h(e){if(y.hasNoUserData())return!1;if(void 0===e||null===e)throw new Error("No roles specified.");var t=!1;return"string"==typeof e||e instanceof String?t=e.indexOf(",")>-1?b(e.split(",")):v(e):e.constructor===Array&&(t=b(e)),t}function v(e){if(y.hasNoUserData())return!1;if(void 0===e||null===e)throw new Error("No roles specified.");return e.toUpperCase()===$.role.name.toUpperCase()}function b(t){if(y.hasNoUserData())return!1;if(void 0===t||null===t||t.length<1)throw new Error("No roles specified.");return e.filter(t,function(e){return e.trim().toUpperCase()===$.role.name.trim().toUpperCase()}).length>0}var y=this;y.$state=a;var $=null,C=null;y.Id=null,y.Name=null,y.Email=null,y.Role={Id:null,Name:null},y.login=r,y.logout=d,y.goToHome=n,y.getHomeHref=o,y.hasLoggedIn=f,y.hasNotLoggedIn=g,y.getAuthData=s,y.getAccessToken=i,y.hasUserData=m,y.hasNoUserData=p,y.setUserData=l,y.getUserData=u,y.hasRole=v,y.hasRoles=b,y.hasAnyRole=h}angular.module("app.core").run(e),e.$inject=["$rootScope","$state","_","$localStorage"]}(),function(){"use strict";function e(e){var a=new t;e.FormValidator=a}function t(){function e(e){if(e.$valid&&console.log("Form is valid."),!e.$valid){n(e);angular.forEach(e.$error,function(a){angular.forEach(a,function(a){a.$setTouched(),t('form[name="'+e.$name+'"] [name="'+a.$name+'"]',o(a),a,r(a))})})}return e.$valid}function t(e,t,a,n){$(e).addClass("validation_error");var o="validation_"+t+"_"+a.$name,r=$("p#"+o);r.length?r.text(n):$(e).after($("<p></p>").attr("id",o).addClass("text-danger").addClass(s.errorElementIdentifierClass).text(n))}function a(e){var t=n(e);t.find("."+s.errorElementIdentifierClass).remove();t.find("input").removeClass("validation_error"),t.find("textarea").removeClass("validation_error"),t.find("select").removeClass("validation_error")}function n(e){return $('form[name="'+e.$name+'"] *')}function o(e){var t=e.$error.required?"required":"";return t=e.$error.email?"email":t,t=e.$error.url?"url":t,t=e.$error.number?"number":t,t="alphabets"===e.$name?"alphabets":t,t=e.$error.minlength?"minlength":t,t=e.$error.maxlength?"maxlength":t}function r(e){var t=e.$error.required?"This is required":"";return t=e.$error.email?"Invalid email":t,t=e.$error.url?"Invalid website url":t,t=e.$error.number?"Only number is allowed":t,t="alphabets"===e.$name?"Only alphabets is allowed":t,t=e.$error.minlength?"You must provide at least 20 characters for this field":t,t=e.$error.maxlength?"You must not exceed the maximum of 200 characters for this field":t,t=e.$error.minTags?"This is required":t,t=t||"This must be entered correctly"}var s=this;s.errorElementIdentifierClass="app-field-validation-error",s.validate=e,s.clear=a}angular.module("app.core").run(e),e.$inject=["$rootScope"]}(),function(){function e(){return window._}angular.module("app.core").factory("_",e)}(),function(){"use strict";function e(e,t,a,n,o){function r(){}function s(e){i(e)&&o.create(l.formData).then(function(e){a.go("app.employees.groups.list")},function(e){})}function i(e){t.notifications.clear(),t.FormValidator.clear(e);var a=t.FormValidator.validate(e);return a||t.notifications.error("Please fill in all the required fields."),a}var l=e;l.model={roles:[]},l.formData={name:""},l.init=r,l.validate=i,l.create=s,l.init()}angular.module("app.employees.groups").controller("employeeGroupsCreateController",e),e.$inject=["$scope","$rootScope","$state","$localStorage","employeeGroupsService"]}(),function(){"use strict";function e(e,t,a,n,o,r,s){function i(){m.list()}function l(){o.list(m.query).then(function(e){m.model=e,console.log(m.model)},function(e){})}function c(e){f=e,$("#modal-ask-to-delete").modal("show")}function d(){angular.copy(f)&&(p(f),f=null)}function u(){f=null}function p(e){console.log(e),o.del(e).then(function(e){m.list()},function(e){})}var m=e;m.model={},m.dtOptions={paginationType:"full_numbers",paging:!1,ordering:!0,info:!1,searching:!1},m.list=l,m.del=p,m.askToDelete=c,m.okDelete=d,m.cancelDelete=u,m.init=i,m.init();var f=null}angular.module("app.employees.groups").controller("employeeGroupsListController",e),e.$inject=["$scope","$rootScope","$state","$localStorage","employeeGroupsService","DTOptionsBuilder","DTColumnDefBuilder"]}(),function(){"use strict";function e(e,t,a,n,o,r){function s(){d.id=n.id,d.get()}function i(){r.get(d.id).then(function(e){d.model=e,d.formData=angular.copy(d.model)},function(e){})}function l(e){c(e)&&r.update(d.id,d.formData).then(function(e){a.go("app.employees.groups.list")},function(e){})}function c(e){t.notifications.clear(),t.FormValidator.clear(e);var a=t.FormValidator.validate(e);return a||t.notifications.error("Please fill in all the required fields."),a}var d=e;d.id=null,d.model={},d.roles=[],d.formData={name:""},d.init=s,d.get=i,d.validate=c,d.update=l,d.init()}angular.module("app.employees.groups").controller("employeeGroupsUpdateController",e),e.$inject=["$scope","$rootScope","$state","$stateParams","$localStorage","employeeGroupsService"]}(),function(){"use strict";function e(e,t,a,n,o,r){function s(){u.id=n.id,u.get()}function i(){r.get(u.id).then(function(e){u.model=e},function(e){})}function l(){r.del(u.id).then(function(e){a.go("app.employees.groups.list")},function(e){})}function c(){r.activate(u.id).then(function(e){t.notifications.message("EmployeeGroup activated successfully!"),u.init()},function(e){})}function d(){r.deactivate(u.id).then(function(e){t.notifications.message("EmployeeGroup deactivated successfully!"),u.init()},function(e){})}var u=e;u.id=null,u.model={},u.init=s,u.get=i,u.del=l,u.activate=c,u.deactivate=d,u.init()}angular.module("app.employees.groups").controller("employeeGroupsViewController",e),e.$inject=["$scope","$rootScope","$state","$stateParams","$localStorage","employeeGroupsService","employeesService"]}(),function(){"use strict";function e(e,t,a,n,o,r){function s(){m.getRoles()}function i(){angular.element(document).ready(function(){})}function l(){r.getRoles().then(function(e){console.log(e),m.roles=e},function(e){}),console.log(m.roles)}function c(e){console.debug(m.formData),d(e)&&(m.formData.recipients=u(m.recipientRoles),o.create(m.formData).then(function(e){a.go("app.notifications.list")},function(e){}))}function d(e){t.notifications.clear(),t.FormValidator.clear(e);var a=t.FormValidator.validate(e);return a||t.notifications.error("Please fill in all the required fields."),a}function u(e){var t=[];return angular.forEach(e,function(e){t.push(e.name)}),t}function p(e){return m.selectedRoles=[],angular.forEach(m.roles,function(t){-1!==t.name.toUpperCase().indexOf(e.toUpperCase())&&m.selectedRoles.push(t)}),m.selectedRoles}var m=e;m.model={},m.formData={title:"",text:"",recipients:[]},m.recipientRoles=[],m.init=s,m.validate=d,m.create=c,m.getRoles=l,m.onReady=i,m.loadTags=p,m.init()}angular.module("app.notifications").controller("notificationsCreateController",e),e.$inject=["$scope","$rootScope","$state","$localStorage","notificationsService","usersService"]}(),function(){"use strict";function e(e,t,a,n,o){function r(){}var s=e;s.model={},s.init=r,s.init(),s.update=function(e){e.$valid&&(console.debug(s.model),o.update(s.model).then(function(e){a.go("app.notifications.list")},function(e){}))}}angular.module("app.notifications").controller("notificationsUpdateController",e),e.$inject=["$scope","$rootScope","$state","$localStorage","notificationsService"]}(),function(){"use strict";function e(e,t,a,n,o){function r(){u.list()}function s(){console.log(t.User.hasAnyRole("SuperAdmin, Admin")),(0,o.listMine)(u.query).then(function(e){u.model=e},function(e){})}function i(e){o.del(e).then(function(e){},function(e){})}function l(e){o.markAsUnread(e).then(function(){u.list(),t.refreshHeaderNotifications()},function(e){})}function c(){u.query.pageNo=1,s()}function d(){s()}var u=e;u.init=r,u.list=s,u.del=i,u.markAsUnread=l,u.model={},console.log(u.model),u.query={searchCriteria:"",pageNo:1,pageSize:10,sortColumn:"Date",sortType:1},u.pageSizes=[1,10,25,50,100,200],u.pageChanged=d,u.pageSizeChanged=c,u.dtOptions={paginationType:"full_numbers",paging:!1,ordering:!0,info:!1,searching:!1},u.init()}angular.module("app.notifications").controller("notificationsListController",e),e.$inject=["$scope","$rootScope","$state","$localStorage","notificationsService"]}(),function(){"use strict";function e(e,t,a,n,o,r,s){function i(){u.id=n.id,u.get(u.id)}function l(e){r.get(e).then(function(e){u.model=e,console.debug(u.model),u.model.textHtml=s.trustAsHtml(u.model.text),u.markAsRead()},function(e){})}function c(){r.del(u.id).then(function(e){a.go("app.notifications.list")},function(e){})}function d(){r.markAsRead(u.id).then(function(){t.refreshHeaderNotifications()},function(e){})}var u=e;u.model={},u.init=i,u.get=l,u.del=c,u.markAsRead=d,u.init()}angular.module("app.notifications").controller("notificationsViewController",e),e.$inject=["$scope","$rootScope","$state","$stateParams","$localStorage","notificationsService","$sce"]}(),function(){"use strict";function e(e,t,a,n,o,r,s,i,l){function c(){if(m.inReplyToMessage=n.inReplyToMessage,m.inReplyToMessage){var e=[];angular.forEach(m.inReplyToMessage.recipients,function(t){e.push(t.firstName+" "+t.lastName+" <"+t.email+">")}),m.inReplyToMessage.subject.startsWith("re: ")||m.inReplyToMessage.subject.startsWith("Re: ")||m.inReplyToMessage.subject.startsWith("RE: ")?m.formData.subject=""+m.inReplyToMessage.subject:m.formData.subject="Re: "+m.inReplyToMessage.subject;var t=["","","","","","From: "+m.inReplyToMessage.sender.firstName+" "+m.inReplyToMessage.sender.lastName+" <"+m.inReplyToMessage.sender.email+">","To: "+e.join(", "),"Subject: "+m.inReplyToMessage.subject,"",m.inReplyToMessage.text].join("\n");m.formData.text=t,m.inReplyToRecipients=l.pluck(m.inReplyToMessage.recipients,"email")}r.getRecipients().then(function(e){angular.forEach(e,function(e){e.text=e.firstName+" "+e.lastName+" <"+e.email+">",m.users.push(e),l.contains(m.inReplyToRecipients,e.email)&&m.formData.recipients.push(angular.copy(e))})},function(e){})}function d(e){u(e)&&r.create(m.formData).then(function(e){a.go("app.messages.inbox.list")},function(e){})}function u(e){t.notifications.clear(),t.FormValidator.clear(e);var a=t.FormValidator.validate(e);return a||t.notifications.error("Please fill in all the required fields."),a}function p(e){return m.selectedUsers=[],angular.forEach(m.users,function(t){-1!==(t.firstName+" "+t.lastName+" <"+t.email+">").indexOf(e)&&m.selectedUsers.push(t)}),m.selectedUsers}var m=e;m.formData={recipients:[],subject:"",text:""},m.recipients=[],m.users=[],m.init=c,m.create=d,m.validate=u,m.loadTags=p,m.init()}angular.module("app.messages").controller("messagesCreateController",e),e.$inject=["$scope","$rootScope","$state","$stateParams","$localStorage","messagesService","$q","$http","_"]}(),function(){"use strict";function e(e,t,a,n,o,r,s,i,l){function c(){g.inbox="app.messages.inbox.list"===a.$current.name,g.sent="app.messages.sent.list"===a.$current.name,g.list()}function d(){(g.inbox?o.list(g.query):o.listSent(g.query)).then(function(e){console.log(e),g.model=e})}function u(e){o.del(e).then(function(e){},function(e){})}function p(e){o.markAsUnread(e).then(function(){g.list(),t.refreshHeaderNotifications()},function(e){})}function m(){g.query.pageNo=1,d()}function f(){d()}var g=e;g.init=c,g.list=d,g.del=u,g.markAsUnread=p,g.inbox=!0,g.model={},g.query={searchCriteria:"",pageNo:1,pageSize:10,sortColumn:"FirstName",sortType:1},g.pageSizes=[10,25,50,100,200],g.pageChanged=f,g.pageSizeChanged=m,g.dtOptions={paginationType:"full_numbers",paging:!1,ordering:!0,info:!1,searching:!1},g.init()}angular.module("app.messages").controller("messagesListController",e),e.$inject=["$scope","$rootScope","$state","$localStorage","messagesService","DTOptionsBuilder","DTColumnDefBuilder","DTDefaultOptions","$timeout"]}(),function(){"use strict";function e(e,t,a,n,o){function r(){}var s=e;s.model={},s.init=r,s.init(),s.update=function(e){e.$valid&&(console.debug(s.model),o.update(s.model).then(function(e){a.go("app.messages.inbox.list")},function(e){}))}}angular.module("app.messages").controller("messagesUpdateController",e),e.$inject=["$scope","$rootScope","$state","$localStorage","messagesService"]}(),function(){"use strict";function e(e,t,a,n,o,r,s){function i(){u.id=n.id,u.get(u.id)}function l(e){r.get(e).then(function(e){u.model=e,u.isSentMessage=n.isSentMessage,u.isIncomingMessage=n.isIncomingMessage,u.isIncomingMessage?(t.currentPage.title="Incoming Message",u.markAsRead()):t.currentPage.title="Sent Message",angular.forEach(u.model.recipients,function(e){var t=e.firstName+" "+e.lastName+" <"+e.email+">";u.recipients.push(t)}),u.recipientsList=u.recipients.join("\n"),
u.model.textHtml=s.trustAsHtml(u.model.text)},function(e){})}function c(){r.del(u.id).then(function(e){u.isIncomingMessage?a.go("app.messages.inbox.list"):a.go("app.messages.sent.list")},function(e){})}function d(){r.markAsRead(u.id).then(function(){t.refreshHeaderNotifications()},function(e){})}var u=e;u.model={},u.recipients=[],u.init=i,u.get=l,u.del=c,u.markAsRead=d,u.init()}angular.module("app.messages").controller("messagesViewController",e),e.$inject=["$scope","$rootScope","$state","$stateParams","$localStorage","messagesService","$sce"]}(),function(){"use strict";function e(e,t,a,n,o){function r(){i.list()}function s(){i.datePicker.date&&(i.datePicker.date.startDate&&(i.query.startDate=new Date(i.datePicker.date.startDate)),i.datePicker.date.endDate&&(i.query.endDate=new Date(i.datePicker.date.endDate))),o.getAttendanceData(i.query).then(function(e){i.model=e},function(e){})}var i=e;i.init=r,i.list=s,i.model={},i.query={startDate:null,endDate:null},i.dtOptions={paginationType:"full_numbers",paging:!1,ordering:!0,info:!1,searching:!1},i.datePicker={date:{startDate:moment(),endDate:moment()},options:{showDropdowns:!0,showWeekNumbers:!0,alwaysShowCalendars:!1,linkedCalendars:!1,locale:{format:"DD/MM/YYYY",cancelLabel:"Clear"},ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},eventHandlers:{"show.daterangepicker":function(e,t){console.log("show.daterangepicker")},"hide.daterangepicker":function(e,t){console.log("hide.daterangepicker")},"showCalendar.daterangepicker":function(e,t){console.log("showCalendar.daterangepicker")},"hideCalendar.daterangepicker":function(e,t){console.log("hideCalendar.daterangepicker")},"apply.daterangepicker":function(e,t){console.log("apply.daterangepicker")},"cancel.daterangepicker":function(e,t){console.log("cancel.daterangepicker"),i.datePicker={startDate:null,endDate:null}}}}},i.init()}angular.module("app.reports").controller("attendanceReportController",e),e.$inject=["$scope","$rootScope","$state","$localStorage","reportsService"]}(),function(){"use strict";function e(e,t,a,n,o){function r(){i.list()}function s(){i.datePicker.date&&(i.datePicker.date.startDate&&(i.query.startDate=new Date(i.datePicker.date.startDate)),i.datePicker.date.endDate&&(i.query.endDate=new Date(i.datePicker.date.endDate))),o.getAttendanceSummaryData(i.query).then(function(e){i.model=e},function(e){})}var i=e;i.init=r,i.list=s,i.model={},i.query={startDate:null,endDate:null},i.dtOptions={paginationType:"full_numbers",paging:!1,ordering:!0,info:!1,searching:!1},i.datePicker={date:{startDate:moment(),endDate:moment()},options:{showDropdowns:!0,showWeekNumbers:!0,alwaysShowCalendars:!1,linkedCalendars:!1,locale:{format:"DD/MM/YYYY",cancelLabel:"Clear"},ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},eventHandlers:{"show.daterangepicker":function(e,t){console.log("show.daterangepicker")},"hide.daterangepicker":function(e,t){console.log("hide.daterangepicker")},"showCalendar.daterangepicker":function(e,t){console.log("showCalendar.daterangepicker")},"hideCalendar.daterangepicker":function(e,t){console.log("hideCalendar.daterangepicker")},"apply.daterangepicker":function(e,t){console.log("apply.daterangepicker")},"cancel.daterangepicker":function(e,t){console.log("cancel.daterangepicker"),i.datePicker={startDate:null,endDate:null}}}}},i.init()}angular.module("app.reports").controller("attendanceSummaryReportController",e),e.$inject=["$scope","$rootScope","$state","$localStorage","reportsService"]}(),function(){"use strict";function e(e,t,a,n,o,r,s,i,l){function c(){return k.enabledDays}function d(e,t){var a=[],n=e.clone().startOf("day"),o=t.clone().startOf("day");for(console.log("Current Date: ",n,"Last Date: ",o);o.diff(n,"days")>=0;)a.push(n.clone()),n.add("days",1);return console.log("Dates: ",a),a}function u(){console.debug("$stateParams: ",n),n.date&&(k.datePicker.date.startDate=n.date,k.datePicker.date.endDate=n.date),console.debug(k.datePicker.date.startDate,k.datePicker.date.endDate),n.employeeId&&("open"===n.employeeId?k.formData.type="open":k.formData.type="allocated"),k.timePicker.startTime.setHours(9,0,0,0),k.timePicker.endTime.setHours(17,0,0,0),k.formData.startTime=moment(k.timePicker.startTime).format("HH:mm:ss"),k.formData.endTime=moment(k.timePicker.endTime).format("HH:mm:ss"),k.dateRangeHasMultipleDays=!1,f(),$(".default-select2").select2(),k.getEmployeesAndGroups()}function p(){k.formData.startTime=moment(k.timePicker.startTime).format("HH:mm:ss"),console.log("From: ",k.formData.startTime),f()}function m(){k.formData.endTime=moment(k.timePicker.endTime).format("HH:mm:ss"),console.log("To: ",k.formData.endTime),f()}function f(){k.formData.title=moment(k.timePicker.startTime).format("hh:mm A")+" - "+moment(k.timePicker.endTime).format("hh:mm A")}function g(){l.list().then(function(e){k.employeeGroups=e.items,console.log("Groups: ",k.employeeGroups),i.list(k.employeesQuery).then(function(e){k.employees=e.items,console.log("Employees: ",k.employees),k.buildEmployeesAndGroups()},function(e){})},function(e){})}function h(){k.employeesAndGroups=[],angular.forEach(k.employeeGroups,function(e){e.text="Group: "+e.name+" ["+e.noOfEmployees+"]",e.isGroup=!0,k.employeesAndGroups.push(e),e.id===n.employeeId&&k.selectedEmployeesAndGroups.push(e)}),angular.forEach(k.employees,function(e){e.text=e.firstName+" "+e.lastName+" <"+e.email+">",e.isGroup=!1,k.employeesAndGroups.push(e),e.id===n.employeeId&&k.selectedEmployeesAndGroups.push(e)})}function v(e){return k.selected=[],angular.forEach(k.employeesAndGroups,function(t){var a="";t.isGroup?(a="Group: "+t.name+" ["+t.noOfEmployees+"]",-1!==a.toUpperCase().indexOf(e.toUpperCase())&&k.selected.push(t)):(a=t.firstName+" "+t.lastName+" <"+t.email+">",-1!==a.toUpperCase().indexOf(e.toUpperCase())&&k.selected.push(t))}),k.selected}function b(e){if(console.log(e),C(e)){if(k.formData.password&&(!k.formData.confirmPassword||k.formData.password!==k.formData.confirmPassword))return void t.notifications.error("Confirm password field should match password field.");y(),console.debug(k.formData),s.create(k.formData).then(function(e){a.go("app.shifts.list")},function(e){})}}function y(){angular.forEach(k.selectedEmployeesAndGroups,function(e){e.isGroup?k.formData.groups.push({id:e.id}):k.formData.employees.push({id:e.id})}),k.formData.startDate=k.datePicker.date.startDate.format("YYYY-MM-DD"),k.formData.endDate=k.datePicker.date.endDate.format("YYYY-MM-DD")}function C(e){t.notifications.clear(),t.FormValidator.clear(e);var a=t.FormValidator.validate(e);return a||t.notifications.error("Please fill in all the required fields."),a}var k=e;k.enabledDays=[0,1,2,3,4,5,6],k.getEnabledDays=c,k.employeesQuery={searchCriteria:"",pageNo:0,pageSize:0,sortColumn:"FirstName",sortType:1},k.employeeGroupsQuery={searchCriteria:"",pageNo:0,pageSize:0,sortColumn:"FirstName",sortType:1},k.employees=[],k.employeeGroups=[],k.selectedEmployeesAndGroups=[],k.timePicker={startTime:new Date,endTime:new Date},k.formData={type:"open",employees:[],groups:[],shiftsPerDay:1,startTime:"",endTime:"",title:"",breakMins:30,startDate:new Date,endDate:new Date,days:[],notes:""},k.init=u,k.validate=C,k.create=b,k.getEmployeesAndGroups=g,k.buildEmployeesAndGroups=h,k.loadTags=v,k.timePickerOptions={hstep:1,mstep:15,ismeridian:!0},k.startTimeChanged=p,k.endTimeChanged=m,k.dateOfBirthPopup={opened:!1,dateFormat:"dd/MM/yyyy",altInputFormats:["M!/d!/yyyy"],dateOptions:{formatYear:"yyyy",startingDay:1}};moment().startOf("isoweek").toDate(),moment().endOf("isoweek").toDate();k.datePicker={date:{startDate:moment(),endDate:moment()},options:{showDropdowns:!0,showWeekNumbers:!0,alwaysShowCalendars:!1,linkedCalendars:!1,locale:{format:"dddd, DD MMMM YYYY",cancelLabel:"Clear"},ranges:{Today:[moment(),moment()],Tomorrow:[moment().add(1,"days"),moment().add(1,"days")],"Next 7 Days":[moment().add(1,"days"),moment().add(7,"days")],"This Week":[moment(),moment().endOf("isoweek")],"Next Week":[moment().startOf("isoweek").add(1,"week"),moment().endOf("isoweek").add(1,"week")],"Week After Next":[moment().startOf("isoweek").add(2,"week"),moment().endOf("isoweek").add(2,"week")],"Next 30 Days":[moment().add(1,"days"),moment().add(30,"days")],"This Month":[moment(),moment().endOf("month")],"Next Month":[moment().add(1,"month").startOf("month"),moment().add(1,"month").endOf("month")],"Month After Next":[moment().add(2,"month").startOf("month"),moment().add(2,"month").endOf("month")]},eventHandlers:{"show.daterangepicker":function(e,t){console.log("show.daterangepicker")},"hide.daterangepicker":function(e,t){console.log("hide.daterangepicker")},"showCalendar.daterangepicker":function(e,t){console.log("showCalendar.daterangepicker")},"hideCalendar.daterangepicker":function(e,t){console.log("hideCalendar.daterangepicker")},"apply.daterangepicker":function(e,t){console.log("apply.daterangepicker","Start Date: ",k.datePicker.date.startDate,"End Date: ",k.datePicker.date.endDate);var a=k.datePicker.date.endDate.diff(k.datePicker.date.startDate,"days");a+=1,console.log("Range Days: ",a),k.dateRangeHasMultipleDays=a>1;var n=[0,1,2,3,4,5,6];if(a<7){n=[];var o=d(k.datePicker.date.startDate,k.datePicker.date.endDate);angular.forEach(o,function(e){console.log("Date: ",e),n.push(e.weekday())}),console.log("Enabled Days: ",n)}k.enabledDays=n},"cancel.daterangepicker":function(e,t){console.log("cancel.daterangepicker"),k.datePicker.date={startDate:null,endDate:null}}}}},k.daysOfWeek=[{no:1,name:"Monday",checked:!0,enabled:!0},{no:2,name:"Tuesday",checked:!0,enabled:!0},{no:3,name:"Wednesday",checked:!0,enabled:!0},{no:4,name:"Thursday",checked:!0,enabled:!0},{no:5,name:"Friday",checked:!0,enabled:!0},{no:6,name:"Saturday",checked:!1,enabled:!0},{no:0,name:"Sunday",checked:!1,enabled:!0}],k.selectedDaysOfWeek=[],k.dateOfBirthPopup.open=function(){k.dateOfBirthPopup.opened=!0,console.log("opened")},k.init()}angular.module("app.shifts").controller("shiftsCreateController",e),e.$inject=["$scope","$rootScope","$state","$stateParams","$localStorage","_","shiftsService","employeesService","employeeGroupsService"]}(),function(){"use strict";function e(e,a,n,o,r,s,i,l,c,d,u){function p(e,t){t.addClass("cal-day")}function m(e,t,a){t.bind("dblclick",function(){n.go("app.shifts.view",{id:e.id})});var o={tooltip:e.title,"tooltip-append-to-body":!0};e.shift&&e.shift.notes?(o.title=e.shift.title,e.shift.startTime&&(o.title=o.title+"\nDate: "+moment(e.shift.startTime).format("MMMM DD, YYYY")),e.shift.startTime&&e.shift.endTime&&(o.title=o.title+"\nDuration: "+moment(e.shift.startTime).format("hh:mm A")+" - "+moment(e.shift.endTime).format("hh:mm A")),e.shift.statusDesc&&(o.title=o.title+"\nStatus: "+e.shift.statusDesc),e.shift.clockInTime&&(o.title=o.title+"\nClock-In Time: "+moment(e.shift.clockInTime).format("hh:mm A")),e.shift.clockOutTime&&(o.title=o.title+", Clock-Out Time: "+moment(e.shift.clockOutTime).format("hh:mm A"))):o.title=e.title,t.attr(o),d(t)(W)}function f(e,t,a){}function g(e,t,a){}function h(e,t,a){}function v(e,t,a,n){}function b(e,t,a,n){}function y(e,t,a,n,o,r){l.log("Event Dropped to make dayDelta "+t),console.log("ResourceId: ",e.resourceId),C(e,a)}function C(e,t){if(console.debug(e.start.utc().toISOString(),e.end.utc().toISOString()),e.start.isBefore(moment()))return t(),console.debug(e.start.utc().toISOString(),e.end.utc().toISOString()),void a.notifications.error("Cannot update event and assign to a back date.");var n={start:e.start.format("YYYY-MM-DD HH:mm"),end:e.end.format("YYYY-MM-DD HH:mm")};console.debug(n.start,n.end),e.resourceId?"open"===e.resourceId?n.isOpen=!0:(n.isOpen=!1,n.employeeId=e.resourceId):n.isOpen=!0,r.assign(e.id,n).then(function(t){a.notifications.message("Event updated successfully."),e.shift.startTime=e.start,e.shift.endTime=e.end,n.isOpen?e.className=["shift-event","open-shift-event"]:e.className=["shift-event","allocated-shift-event"],W.calendar.renderEvent(e)},function(e){t()})}function k(e,t,a,n){}function A(e,t,a,n){}function D(e,t,a,n,o,r){l.log("Event Resized to make dayDelta "+t),console.debug(e,t,a,n,o,r),console.debug(t.days(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()),console.debug(t._months,t._days,t._milliseconds),console.debug(e.start.format(),e.end.format()),C(e,a)}function S(e,t,a){l.log("Event: "+e.title),l.log("Coordinates: "+t.pageX+","+t.pageY),l.log("View: "+a.name),$(this).css("background-color","#00acac"),E({x:t.pageX,y:t.pageY},{event:e})}function w(e,t){Q=e.start,J=e.end,console.log("View Changed: ",e.start.format(),e.end.format(),e),moment(W.query.startDate).diff(e.start,"days")&&(console.log("Date Changed: ",e.start.format(),e.end.format()),X=null,W.query.startDate=moment.utc(e.start).format("YYYY-MM-DD"),W.query.endDate=moment.utc(e.end).format("YYYY-MM-DD"),B())}function T(e,t){console.log("day",e.format());var a={x:t.pageX,y:t.pageY},n=null;W.selectedEmployeeGroupId&&"none"!==W.selectedEmployeeGroupId&&(n=W.selectedEmployeeGroupId),E(a,{date:e,resource:n})}function M(e,t,a,n){l.log("Clicked on Date: "+e.format()),n&&l.log("Clicked on: "+n.id+", "+n.title),j(e,n),E({x:t.pageX,y:t.pageY},{date:e,resource:n})}function j(e,t){if(null===X){var a=W.calendar.getEvents(K);a&&a.length>0&&(X=a[0])}if(null===X){var n={id:K,start:e,end:e,rendering:"background",className:"selected-day-bg-event"};n.resourceId=t?t.id:null,W.calendar.renderEvent(n)}else X.start=e,X.end=e,X.resourceId=t?t.id:null,W.calendar.updateEvent(X)}function P(){$.contextMenu({selector:".calendar",trigger:"none",autoHide:!0,events:{show:function(e){return!0},hide:function(e){return!0}},build:function(e,t){return t.preventDefault(),e.data("callbackForCreatingCalendarMenu")()}})}function E(e,t){if(t){var a=$(".calendar"),n=null;if(t.event)n=R(t.event);else if(t.date){if(!W.canManage)return;n=x(t.date,t.resource)}a.data("callbackForCreatingCalendarMenu",n),setTimeout(function(){a.contextMenu(e)})}}function x(e,t){function a(){return{callback:function(e,t){console.log(e,t)},items:{CreateShift:{name:"Create Shift",icon:"fa-plus",visible:function(e,t){return W.canManage},callback:function(a,o){console.log(a,o),console.log("Date: ",e,"Resource: ",t),n.go("app.shifts.create",{date:e,employeeId:t.id})}}}}}return a}function R(e,t){function a(){return{callback:function(e,t){console.log("Event Menu Item Clicked",e,t)},items:{view:{type:null,name:"View",disabled:function(e,t){return!1},visible:function(e,t){return!0},callback:function(t,a){n.go("app.shifts.view",{id:e.id})}},update:{type:null,name:"Update",disabled:function(t,a){return e.shift.clockInTime},visible:function(t,a){return e.shift&&W.canManage&&(!0===e.shift.isOpen||"Due"===e.shift.statusDesc)},callback:function(t,a){n.go("app.shifts.update",{id:e.id})}},deleteShift:{type:null,name:"Delete",disabled:function(t,a){return e.shift.clockInTime},visible:function(t,a){return e.shift&&W.canManage&&"Due"===e.shift.statusDesc},callback:function(t,a){r.del(e.shift.id).then(function(t){W.calendar.removeEvents(e.id)},function(e){})}}}}}return a}function L(){W.selectedEmployeeGroupId?"none"===W.selectedEmployeeGroupId?(W.query.filterOnGroup=!0,W.query.groupId=null):(W.query.filterOnGroup=!0,W.query.groupId=W.selectedEmployeeGroupId):(W.query.filterOnGroup=!1,W.query.groupId=""),W.query.includeOpen=!0,u(function(){U(),I(),B()})}function U(){W.uiConfig.calendar.events.length=0,W.eventSources.length=0,W.events=[],W.eventSources.push(W.events)}function I(){W.uiConfig.calendar.resources.splice(0,W.uiConfig.calendar.resources.length),W.calendar.removeResources()}function O(){N(),W.canManage=a.User.hasAnyRole("RecManager, HRManager"),W.calendar=new t("#calendar",W.uiConfig.calendar),W.calendar.init(),q(),B()}function N(){jQuery.fn.extend({getPath:function(){for(var e,t=this;t.length;){var a=t[0],n=a.localName;if(!n)break;n=n.toLowerCase();var o=t.parent();if(o.children(n).length>1){var r=o.children(),s=r.index(a)+1;s>1&&(n+=":nth-child("+s+")")}e=n+(e?">"+e:""),t=o}return e}})}function B(){r.list(W.query).then(function(e){W.rota=e,G()},function(e){})}function Y(){if(!(W.uiConfig.calendar.resources.length>0)){if(W.query.includeOpenShifts){var e={id:"open",title:"Open"};W.uiConfig.calendar.resources.push(e),W.calendar.addResource(e,!1)}W.rota&&angular.forEach(W.rota.items,function(e){var t={id:e.employee.id,title:e.employee.name,empployee:e.employee};W.uiConfig.calendar.resources.push(t),W.calendar.addResource(t,!1)})}}function G(){W.rota&&(I(),U(),W.calendar.removeEvents(),Y(),angular.forEach(W.rota.openShifts,function(e){console.debug(e.startTime,e.endTime),console.debug(moment(e.startTime).toISOString(),moment(e.endTime).toISOString()),console.debug(moment(e.startTime).utc().toISOString(),moment(e.endTime).utc().toISOString()),H(e)}),angular.forEach(W.rota.items,function(e){angular.forEach(e.shifts,function(t){console.debug(t.startTime,t.endTime),console.debug(moment(t.startTime).toISOString(),moment(t.endTime).toISOString()),console.debug(moment(t.startTime).utc().toISOString(),moment(t.endTime).utc().toISOString()),H(t,e.employee)})}),W.calendar.renderEvents(W.events,!0),$.contextMenu("destroy"),P())}function H(e,t){if(!_.findWhere(W.events,{id:e.id})){var n={stick:!0,id:e.id,title:e.title,start:moment(e.startTime).toDate(),end:moment(e.endTime).toDate(),description:"my test event",allDay:!1,shift:e};e.isOpen?n.resourceId="open":t&&t.id&&(n.resourceId=t.id),n.className=["shift-event"],"Complete"===e.statusDesc?"Late"===e.startStatusDesc?n.className.push("late-shift-event"):n.className.push("complete-shift-event"):"Missed"===e.statusDesc?n.className.push("missed-shift-event"):(a.User.hasAnyRole("HRManager")&&(n.editable=!0),e.isOpen?(n.resourceId="open",n.className.push("open-shift-event")):t&&t.id&&(n.resourceId=t.id,n.className.push("allocated-shift-event"))),W.events.push(n)}}function q(){W.selectedEmployeeGroupId=null,a.User.hasAnyRole("Employee")||i.list().then(function(e){W.employeeGroups=e.items},function(e){})}function V(e){r.del(e).then(function(e){},function(e){})}var W=e;W.init=O,W.getEmployeeGroups=q,W.list=B,W.createEvents=G,W.del=V,W.fetch=L,W.test=function(){console.log(c.calendars.shiftsCalendar),c.calendars.shiftsCalendar.fullCalendar("gotoDate",moment().add(12,"days")),console.log("gotoDate: ",moment().add(12,"days"))},W.employeeGroups=[],W.rota={},W.selectedEmployeeGroupId=null;var z=moment().startOf("isoweek").format("YYYY-MM-DD"),F=moment().endOf("isoweek").format("YYYY-MM-DD");W.query={includeOpenShifts:!0,filterOnGroup:!1,groupId:null,startDate:z,endDate:F,searchCriteria:"",pageNo:1,pageSize:10,sortColumn:"Name",sortType:1},W.usersQuery={searchCriteria:"",pageNo:1,pageSize:10,sortColumn:"Name",sortType:1},W.dtOptions={paginationType:"full_numbers",paging:!1,ordering:!0,info:!1,searching:!1},W.uiConfig={calendar:{schedulerLicenseKey:"CC-Attribution-NonCommercial-NoDerivatives",navLinks:!0,defaultDate:moment(),firstDay:1,editable:!1,eventLimit:!0,allDayDefault:!1,defaultView:"timelineWeek",groupByDateAndResource:!0,header:{left:"timelineWeek timelineWeekHours timelineDay timelineDay2 timelineDay3",center:"title",right:"today prev,next"},views:{basic:{},agenda:{groupByResource:!0,groupByDateAndResource:!0},week:{groupByResource:!0,groupByDateAndResource:!0},timelineWeek:{type:"timelineWeek",buttonText:"Week",slotDuration:"24:00:00",slotLabelFormat:["ddd / DD"]},timelineDay:{type:"timeline",buttonText:"1 Day",slotDuration:"00:15:00"},timelineDay2:{type:"timeline",duration:{days:2},buttonText:"2 day",slotDuration:"00:15:00",groupByResource:!0,groupByDateAndResource:!0},timelineDay3:{type:"timeline",duration:{days:3},buttonText:"3 day",slotDuration:"00:15:00",groupByResource:!0,groupByDateAndResource:!0},month:{groupByResource:!1,groupByDateAndResource:!1,titleFormat:"YYYY, MM, DD",slotLabelFormat:["ddd / DD"]},agendaTwoDay:{type:"agenda",duration:{days:2},buttonText:"Ag 2d",groupByResource:!0,groupByDateAndResource:!0}},resources:[],events:[],navLinkDayClick:T,viewRender:w,dayRender:p,dayClick:M,eventRender:m,eventAfterRender:f,eventMouseover:g,eventMouseout:h,eventClick:S,eventDragStart:v,eventDragStop:b,eventDrop:y,eventResizeStart:k,eventResizeStop:A,eventResize:D}},W.events=[],W.eventSources=[W.events];var Q=null,J=null,K="0000",X=null;W.init()}function t(e,t){function a(){b.calendar.fullCalendar(b.config)}function n(){b.calendar.fullCalendar("destroy")}function o(e,t){b.calendar.fullCalendar("addResource",e,t)}function r(e){b.calendar.fullCalendar("addEventSource",e)}function s(e,t){void 0!==t&&null!==t||(t=!0),b.calendar.fullCalendar("renderEvent",e,t)}function i(e,t){void 0!==t&&null!==t||(t=!0),b.calendar.fullCalendar("renderEvents",e,t)}function l(){b.calendar.fullCalendar("rerenderEvents")}function c(e){b.calendar.fullCalendar("updateEvent",e)}function d(){b.calendar.fullCalendar("render")}function u(e){b.calendar.fullCalendar("removeEvents",e)}function p(e){var t=b.calendar.fullCalendar("clientEvents",e);return 0===t.length?null:t[0]}function m(e){return b.calendar.fullCalendar("clientEvents",e)}function f(e){b.calendar.fullCalendar("option","height",e)}function g(e){b.calendar.fullCalendar("option","contentHeight",e)}function h(){return b.calendar.fullCalendar("getResources")}function v(){var e=b.getResources();angular.forEach(e,function(e){b.calendar.fullCalendar("removeResource",e)})}var b=this;b.init=a,b.destroy=n,b.setHeight=f,b.setContentHeight=g,b.addResource=o,b.addEventSource=r,b.render=d,b.renderEvent=s,b.renderEvents=i,b.rerenderEvents=l,b.getEvent=p,b.getEvents=m,b.updateEvent=c,b.removeEvents=u,b.getResources=h,b.removeResources=v,function(){if(b.calendar=$(e),!b.calendar)throw new Error("Calendar selector is not valid.");if(b.config=t,!b.config)throw new Error("Calendar config is not valid.")}()}angular.module("app.shifts").controller("shiftsListController",e),e.$inject=["$scope","$rootScope","$state","$localStorage","shiftsService","usersService","employeeGroupsService","$log","uiCalendarConfig","$compile","$timeout"]}(),function(){"use strict";function e(e,t,a,n,o,r,s){function i(e){angular.forEach($.daysOfWeek,function(t){t.enabled=_.contains(e,t.no),t.checked=t.enabled})}function l(e,t){var a=[],n=e.clone().startOf("day"),o=t.clone().startOf("day");for(console.log("Current Date: ",n,"Last Date: ",o);o.diff(n,"days")>=0;)a.push(n.clone()),n.add("days",1);return console.log("Dates: ",a),a}function c(){$.id=n.id,$.dateRangeHasMultipleDays=!1,$.canManage=!!t.User.hasAnyRole("RecManager, HRManager"),console.debug(t.User.hasAnyRole("RecManager, HRManager")),$.get()}function d(){s.list($.employeesQuery).then(function(e){$.employees=e.items,angular.forEach($.employees,function(e){e.text=e.firstName+" "+e.lastName+" <"+e.email+">"})},function(e){})}function u(){s.list($.employeesQuery).then(function(e){$.employees=e.items,angular.forEach($.employees,function(e){e.text=e.firstName+" "+e.lastName+" <"+e.email+">"}),r.get($.id).then(function(e){console.debug(e),$.model=e,$.formData=angular.copy($.model),$.formData.date=new Date(moment($.formData.startTime).format("YYYY-MM-DD")),$.date=new Date(moment($.formData.startTime).format("YYYY-MM-DD"));var t=(moment(new Date),moment($.formData.startTime)),a=moment($.formData.endTime);a.date(t.date()),a.month(t.month()),a.year(t.year()),$.formData.startTime=t,$.timePicker.startTime=t,$.formData.endTime=a,$.timePicker.endTime=a,$.endTimeIsLessThanStartTime=moment($.timePicker.endTime).isBefore(moment($.timePicker.startTime)),void 0!==$.formData.employee&&null!==$.formData.employee?($.formData.type="allocated",p()):$.formData.type="open"},function(e){})},function(e){})}function p(){$.selectedEmployees=[],angular.forEach($.employees,function(e){e.id===$.formData.employee.id&&$.selectedEmployees.push(e)})}function m(){$.formData.startTime=moment($.timePicker.startTime).format("HH:mm:ss"),console.log("From: ",$.formData.startTime,$.timePicker.startTime),g(),$.endTimeIsLessThanStartTime=moment($.timePicker.endTime).isBefore(moment($.timePicker.startTime))}function f(){$.formData.endTime=moment($.timePicker.endTime).format("HH:mm:ss"),console.log("To: ",$.formData.endTime,$.timePicker.endTime),g(),$.endTimeIsLessThanStartTime=moment($.timePicker.endTime).isBefore(moment($.timePicker.startTime))}function g(){$.formData.title=moment($.timePicker.startTime).format("hh:mm A")+" - "+moment($.timePicker.endTime).format("hh:mm A")}function h(e){return $.selected=[],angular.forEach($.employees,function(t){-1!==(t.firstName+" "+t.lastName+" <"+t.email+">").toUpperCase().indexOf(e.toUpperCase())&&$.selected.push(t)}),$.selected}function v(e){y(e)&&(b(),console.debug($.selectedEmployees),console.debug($.formData),r.update($.id,$.formData).then(function(e){a.go("app.shifts.view",{id:$.id})},function(e){}))}function b(){$.selectedEmployees&&null!==$.selectedEmployees&&$.selectedEmployees.length>0&&($.formData.employeeId=$.selectedEmployees[0].id);var e=moment($.date);$.formData.date=e.format("YYYY-MM-DD"),$.formData.startTime=moment($.timePicker.startTime).format("HH:mm:ss"),$.formData.endTime=moment($.timePicker.endTime).format("HH:mm:ss"),console.log($.formData.date,$.datePicker.date)}function y(e){t.notifications.clear(),t.FormValidator.clear(e);var a=t.FormValidator.validate(e);return a||t.notifications.error("Please fill in all the required fields."),a}var $=e;$.employeesQuery={searchCriteria:"",pageNo:0,pageSize:0,sortColumn:"FirstName",sortType:1},$.employees=[],$.selectedEmployees=[],$.timePicker={startTime:new Date,endTime:new Date},$.formData={type:"open",employees:[],groups:[],shiftsPerDay:1,startTime:"",endTime:"",title:"",breakMins:30,startDate:moment().format("YYYY-MM-DD"),endDate:moment().format("YYYY-MM-DD"),days:[],notes:""},$.init=c,$.get=u,$.validate=y,$.update=v,$.getEmployees=d,$.loadTags=h,$.dateOfBirthPopup={opened:!1,dateFormat:"dd/MM/yyyy",altInputFormats:["M!/d!/yyyy"],dateOptions:{formatYear:"yyyy",startingDay:1},open:function(){$.dateOfBirthPopup.opened=!0,console.log("opened")}},$.timePickerOptions={hstep:1,mstep:15,ismeridian:!0},$.startTimeChanged=m,$.endTimeChanged=f,$.dateOfBirthPopup={opened:!1,dateFormat:"dd/MM/yyyy",altInputFormats:["M!/d!/yyyy"],dateOptions:{formatYear:"yyyy",startingDay:1}};moment().startOf("isoweek").toDate(),moment().endOf("isoweek").toDate();$.datePicker={date:{startDate:moment(),endDate:moment()},options:{showDropdowns:!0,showWeekNumbers:!0,alwaysShowCalendars:!1,linkedCalendars:!1,locale:{format:"dddd, DD MMMM YYYY",cancelLabel:"Clear"},ranges:{Today:[moment(),moment()],Tomorrow:[moment().add(1,"days"),moment().add(1,"days")],"Next 7 Days":[moment().add(1,"days"),moment().add(7,"days")],"This Week":[moment(),moment().endOf("isoweek")],"Next Week":[moment().startOf("isoweek").add(1,"week"),moment().endOf("isoweek").add(1,"week")],"Week After Next":[moment().startOf("isoweek").add(2,"week"),moment().endOf("isoweek").add(2,"week")],"Next 30 Days":[moment().add(1,"days"),moment().add(30,"days")],"This Month":[moment(),moment().endOf("month")],"Next Month":[moment().add(1,"month").startOf("month"),moment().add(1,"month").endOf("month")],"Month After Next":[moment().add(2,"month").startOf("month"),moment().add(2,"month").endOf("month")]},eventHandlers:{"show.daterangepicker":function(e,t){console.log("show.daterangepicker")},"hide.daterangepicker":function(e,t){console.log("hide.daterangepicker")},"showCalendar.daterangepicker":function(e,t){console.log("showCalendar.daterangepicker")},"hideCalendar.daterangepicker":function(e,t){console.log("hideCalendar.daterangepicker")},"apply.daterangepicker":function(e,t){console.log("apply.daterangepicker","Start Date: ",$.datePicker.date.startDate,"End Date: ",$.datePicker.date.endDate);var a=$.datePicker.date.endDate.diff($.datePicker.date.startDate,"days");a+=1,console.log("Range Days: ",a),$.dateRangeHasMultipleDays=a>1;var n=[0,1,2,3,4,5,6];if(a<7){n=[];var o=l($.datePicker.date.startDate,$.datePicker.date.endDate);angular.forEach(o,function(e){console.log("Date: ",e),n.push(e.weekday())}),console.log("Enabled Days: ",n)}i(n)},"cancel.daterangepicker":function(e,t){console.log("cancel.daterangepicker"),$.datePicker.date={startDate:null,endDate:null}}}}},$.dateOfBirthPopup.open=function(){$.dateOfBirthPopup.opened=!0,console.log("opened")},$.init()}angular.module("app.shifts").controller("shiftsUpdateController",e),e.$inject=["$scope","$rootScope","$state","$stateParams","$localStorage","shiftsService","employeesService"]}(),function(){"use strict";function e(e,t,a,n,o,r,s,i){function l(){v.id=n.id,v.canManage=t.User.hasAnyRole("HRManager"),c()}function c(){r.get(v.id).then(function(e){v.model=e,console.debug(v.model),u(),d(),b=s(d,1e4)},function(e){})}function d(){console.debug((new Date).getTime()),v.canManage=t.User.hasAnyRole("HRManager")&&0===v.model.status;var e=moment(new Date),a=moment(v.model.startTime),n=moment(v.model.endTime);v.startTimeHasPassed=a.isBefore(e),v.startTimeHasNotPassed=!v.startTimeHasPassed,v.endTimeHasPassed=n.isBefore(e),v.endTimeHasNotPassed=!v.endTimeHasPassed,v.shiftIsOpen=void 0===v.model.employee||null===v.model.employee,v.shiftIsTaken=!v.shiftIsOpen,v.userIsShiftEmployee=v.shiftIsTaken&&v.model.employee.id===t.User.Id,v.shiftNotClockedIn=null===v.model.clockInTime||void 0===v.model.clockInTime,v.shiftClockedIn=!v.shiftNotClockedIn,v.shiftNotClockedOut=null===v.model.clockOutTime||void 0===v.model.clockOutTime,v.shiftClockedOut=!v.shiftNotClockedOut,v.userCanTakeShift=v.shiftIsOpen&&v.userIsShiftEmployee,v.userCanLeaveShift=v.userIsShiftEmployee&&v.shiftNotClockedIn,v.minsRemainingInShiftStart=a.diff(e,"minute"),v.minsRemainingInShiftEnd=n.diff(e,"minute"),v.shiftCanBeStarted=v.endTimeHasNotPassed&&v.minsRemainingInShiftStart<15&&v.minsRemainingInShiftEnd>0,v.shiftCanBeEnded=v.endTimeHasPassed&&v.minsRemainingInShiftEnd<0&&v.minsRemainingInShiftEnd>-15,v.canClockIn=v.userIsShiftEmployee&&v.shiftNotClockedIn&&v.shiftNotClockedOut&&v.shiftCanBeStarted&&v.endTimeHasNotPassed,v.canClockOut=v.userIsShiftEmployee&&v.shiftClockedIn&&v.shiftCanBeEnded&&v.shiftNotClockedOut,v.shiftInProgress=v.shiftClockedIn&&v.shiftNotClockedOut,v.showStatus=!v.shiftInProgress&&!v.canClockOut,console.debug("vm.endTimeHasPassed",v.endTimeHasPassed,"vm.minsRemainingInShiftStart",v.minsRemainingInShiftStart,"vm.shiftCanBeStarted",v.shiftCanBeStarted),console.debug("vm.minsRemainingInShiftEnd",v.minsRemainingInShiftEnd,"vm.shiftCanBeEnded",v.shiftCanBeEnded),console.debug("vm.shiftIsOpen",v.shiftIsOpen,"vm.userIsShiftEmployee",v.userIsShiftEmployee,"vm.userCanTakeShift",v.userCanTakeShift,"vm.shiftIsTaken",v.shiftIsTaken),console.debug("vm.canClockIn",v.canClockIn,"vm.canClockOut",v.canClockOut),console.debug("vm.userCanLeaveShift",v.userCanLeaveShift,"vm.canManage",v.canManage,"vm.canClockIn",v.canClockIn,"vm.canClockOut",v.canClockOut),console.debug("=============================================================================================================================================")}function u(){angular.isDefined(b)&&(s.cancel(b),b=null)}function p(){r.del(v.id).then(function(e){a.go("app.shifts.list")},function(e){})}function m(){r.take(v.id).then(function(e){c()},function(e){})}function f(){r.leave(v.id).then(function(e){c()},function(e){})}function g(){r.clockIn(v.id).then(function(e){c()},function(e){})}function h(){r.clockOut(v.id).then(function(e){c()},function(e){})}var v=e;v.model={},v.userIsShiftEmployee=!1,v.init=l,v.get=c,
v.del=p,v.takeShift=m,v.leaveShift=f,v.clockIn=g,v.clockOut=h,v.init();var b=null;v.$on("$destroy",function(){u()})}angular.module("app.shifts").controller("shiftsViewController",e),e.$inject=["$scope","$rootScope","$state","$stateParams","$localStorage","shiftsService","$interval","$timeout"]}(),function(){"use strict";function e(e,t,a,n,o,r,s){function i(){$(".default-select2").select2(),g.isUsersModule="app.users.create"===a.$current.name,g.isEmployeesModule="app.employees.create"===a.$current.name,f=g.isEmployeesModule?r:o,c(),g.isEmployeesModule&&g.getEmployeeGroups()}function l(){return g.isEmployeesModule?a.href("app.employees.list"):a.href("app.users.list")}function c(){o.getRoles().then(function(e){var a=e;t.User.hasAnyRole("SuperAdmin, Admin")&&(a=d(a,"Employee")),t.User.hasAnyRole("Admin, RecManager, HRManager")&&(a=d(a,"SuperAdmin"),a=d(a,"Admin")),t.User.hasAnyRole("RecManager, HRManager")&&(a=d(a,"RecManager"),a=d(a,"HRManager")),g.roles=a,angular.forEach(g.roles,function(e){console.debug(e),t.User.hasAnyRole("RecManager")&&"Employee"===e.name&&(g.formData.role=e)})},function(e){})}function d(e,t){return angular.forEach(e,function(a){if(a.name===t){var n=e.indexOf(a);console.debug(e,a,n),n>-1&&e.splice(n,1)}}),e}function u(){s.list().then(function(e){g.employeeGroups=e.items},function(e){})}function p(e){if(m(e))return!g.formData.password||g.formData.confirmPassword&&g.formData.password===g.formData.confirmPassword?void f.create(g.formData).then(function(e){g.isEmployeesModule?a.go("app.employees.list"):a.go("app.users.list")},function(e){}):void t.notifications.error("Confirm password field should match password field.")}function m(e){t.notifications.clear(),t.FormValidator.clear(e);var a=t.FormValidator.validate(e);return a||t.notifications.error("Please fill in all the required fields."),a}var f=o,g=e;g.model={roles:[]},g.roles=[],g.employeeGroups=[],g.formData={firstName:"",lastName:"",email:"",dateOfBirth:"15/11/2016",mobile:"",phoneNumber:"",role:null},g.getBackUrl=l,g.init=i,g.validate=m,g.create=p,g.getRoles=c,g.getEmployeeGroups=u,g.citiesInEngland=["Bath","Birmingham","Bradford","Brighton and Hove","Bristol","Cambridge","Canterbury","Carlisle","Chester","Chichester","Coventry","Derby","Durham","Ely","Exeter","Gloucester","Hereford","Kingston upon Hull","Lancaster","Leeds","Leicester","Lichfield","Lincoln","Liverpool","City of London","Manchester","Newcastle upon Tyne","Norwich","Nottingham","Oxford","Peterborough","Plymouth","Portsmouth","Preston","Ripon","Salford","Salisbury","Sheffield","Southampton","St Albans","Stoke-on-Trent","Sunderland","Truro","Wakefield","Wells","Westminster","Winchester","Wolverhampton","Worcester","York"],g.citiesInWales=["Bangor","Cardiff","Newport","St Davids","Swansea"],g.citiesInScotland=["Aberdeen","Dundee","Edinburgh","Glasgow","Inverness","Stirling"],g.citiesInNorthernIreland=["Armagh","Belfast","Londonderry","Lisburn","Newry"],g.dateOfBirthPopup={opened:!1,dateFormat:"dd/MM/yyyy",altInputFormats:["M!/d!/yyyy"],dateOptions:{formatYear:"yyyy",startingDay:1},open:function(){g.dateOfBirthPopup.opened=!0,console.log("opened")}},i()}angular.module("app.users").controller("usersCreateController",e),e.$inject=["$scope","$rootScope","$state","$localStorage","usersService","employeesService","employeeGroupsService"]}(),function(){"use strict";function e(e,t,a,n,o,r,s,i){function l(){f.isUsersModule="app.users.list"===a.$current.name,f.isEmployeesModule="app.employees.list"===a.$current.name,g=f.isEmployeesModule?r:o,f.list()}function c(){return f.isEmployeesModule?a.href("app.employees.create"):a.href("app.users.create")}function d(e){return f.isEmployeesModule?a.href("app.employees.view",{id:e.id}):a.href("app.users.view",{id:e.id})}function u(){g.listAll(f.query).then(function(e){f.model=e},function(e){})}function p(){f.query.pageNo=1,u()}function m(){u()}var f=e,g=o;f.getNewUrl=c,f.getDetailsUrl=d,f.init=l,f.list=u,f.model={},f.query={searchCriteria:"",pageNo:1,pageSize:10,sortColumn:"LASTNAME",sortType:1},f.pageSizes=[10,25,50,100,200],f.pageChanged=m,f.pageSizeChanged=p,f.dtOptions={paginationType:"full_numbers",paging:!1,ordering:!0,info:!1,searching:!1},f.dtColumnDefs=[],f.init()}angular.module("app.users").controller("usersListController",e),e.$inject=["$scope","$rootScope","$state","$localStorage","usersService","employeesService","DTOptionsBuilder","DTColumnDefBuilder"]}(),function(){"use strict";function e(e,t,a,n,o,r,s,i){function l(){h.isProfilePage="app.account.update"===a.$current.name,h.isUsersModule="app.users.update"===a.$current.name,h.isEmployeesModule="app.employees.update"===a.$current.name,h.canManage=!!h.isProfilePage||(h.isEmployeesModule?t.User.hasAnyRole("RecManager, HRManager"):!!h.isUsersModule&&t.User.hasAnyRole("SuperAdmin, Admin")),h.id=h.isProfilePage?t.User.Id:n.id,g=h.isEmployeesModule?s:r,h.getRoles(),!h.isProfilePage&&h.canManage&&h.getEmployeeGroups(),h.get()}function c(){g.get(h.id).then(function(e){h.model=e,h.formData=angular.copy(h.model),h.formData.dateOfBirth=new Date(h.formData.dateOfBirth)},function(e){})}function d(){r.getRoles().then(function(e){h.roles=e},function(e){})}function u(){i.list().then(function(e){h.employeeGroups=e.items},function(e){})}function p(e){if(m(e))return!h.formData.password||h.formData.confirmPassword&&h.formData.password===h.formData.confirmPassword?void g.update(h.id,h.formData).then(function(e){h.isProfilePage?a.go("app.account.profile"):h.isEmployeesModule?a.go("app.employees.view",{id:h.id}):a.go("app.users.view",{id:h.id})},function(e){}):void t.notifications.error("Confirm password field should match password field.")}function m(e){t.notifications.clear(),t.FormValidator.clear(e);var a=t.FormValidator.validate(e);return a||t.notifications.error("Please fill in all the required fields."),a}function f(){return h.isEmployeesModule&&!h.isProfilePage?a.href("app.employees.view",{id:h.id}):h.isProfilePage&&!h.isEmployeesModule?a.href("app.account.profile"):a.href("app.users.view",{id:h.id})}var g=r,h=e;h.id=null,h.model={},h.roles=[],h.employeeGroups=[],h.formData={firstName:"",lastName:"",email:"",dateOfBirth:"15/11/2016",mobile:"",phoneNumber:"",role:null},h.init=l,h.get=c,h.validate=m,h.update=p,h.getRoles=d,h.getEmployeeGroups=u,h.getBackUrl=f,h.citiesInEngland=["Bath","Birmingham","Bradford","Brighton and Hove","Bristol","Cambridge","Canterbury","Carlisle","Chester","Chichester","Coventry","Derby","Durham","Ely","Exeter","Gloucester","Hereford","Kingston upon Hull","Lancaster","Leeds","Leicester","Lichfield","Lincoln","Liverpool","City of London","Manchester","Newcastle upon Tyne","Norwich","Nottingham","Oxford","Peterborough","Plymouth","Portsmouth","Preston","Ripon","Salford","Salisbury","Sheffield","Southampton","St Albans","Stoke-on-Trent","Sunderland","Truro","Wakefield","Wells","Westminster","Winchester","Wolverhampton","Worcester","York"],h.citiesInWales=["Bangor","Cardiff","Newport","St Davids","Swansea"],h.citiesInScotland=["Aberdeen","Dundee","Edinburgh","Glasgow","Inverness","Stirling"],h.citiesInNorthernIreland=["Armagh","Belfast","Londonderry","Lisburn","Newry"],h.dateOfBirthPopup={opened:!1,dateFormat:"dd/MM/yyyy",altInputFormats:["M!/d!/yyyy"],dateOptions:{formatYear:"yyyy",startingDay:1},open:function(){h.dateOfBirthPopup.opened=!0,console.log("opened")}},h.init()}angular.module("app.users").controller("usersUpdateController",e),e.$inject=["$scope","$rootScope","$state","$stateParams","$localStorage","usersService","employeesService","employeeGroupsService"]}(),function(){"use strict";function e(e,t,a,n,o,r,s){function i(){g.isProfilePage="app.account.profile"===a.$current.name,g.id=g.isProfilePage?t.User.Id:n.id,g.isUsersModule="app.users.view"===a.$current.name,g.isEmployeesModule="app.employees.view"===a.$current.name,f=g.isEmployeesModule?s:r,g.canManage=!!g.isProfilePage||(g.isEmployeesModule?t.User.hasAnyRole("RecManager, HRManager"):!!g.isUsersModule&&t.User.hasAnyRole("SuperAdmin, Admin")),l()}function l(){f.get(g.id).then(function(e){g.model=e},function(e){})}function c(){f.del(g.id).then(function(e){i()},function(e){})}function d(){f.activate(g.id).then(function(e){t.notifications.message("User activated successfully!"),i()},function(e){})}function u(){f.deactivate(g.id).then(function(e){t.notifications.message("User deactivated successfully!"),i()},function(e){})}function p(){return g.isProfilePage?a.href("app.account.update"):g.isEmployeesModule?a.href("app.employees.update",{id:g.id}):a.href("app.users.update",{id:g.id})}function m(){return g.isProfilePage?a.href("app.dashboard.home"):g.isEmployeesModule?a.href("app.employees.list"):a.href("app.users.list")}var f=r,g=e;g.id=null,g.model={},g.init=i,g.getUpdateUrl=p,g.getBackUrl=m,g.get=l,g.del=c,g.activate=d,g.deactivate=u,g.dateOfBirthPopup={opened:!1,dateFormat:"dd/MM/yyyy",altInputFormats:["M!/d!/yyyy"],dateOptions:{formatYear:"yyyy",startingDay:1}},g.dateOfBirthPopup.open=function(){g.dateOfBirthPopup.opened=!0,console.log("opened")},g.init()}angular.module("app.users").controller("usersViewController",e),e.$inject=["$scope","$rootScope","$state","$stateParams","$localStorage","usersService","employeesService"]}();
//# sourceMappingURL=app.min.js.map
